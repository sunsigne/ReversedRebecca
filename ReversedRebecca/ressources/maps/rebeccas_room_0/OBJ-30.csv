TIME -> 0 = GOTO -> AFFECTING:RIGHT_CHAIR_INIT


//// STATE ////

! -> RIGHT_CHAIR_INIT = GOTO -> HITBOX_INIT, TA_INIT, CREATE_CHAIR
$ -> HITBOX_INIT = HITBOX -> 6, 3, 10, 13
$ -> TA_INIT = TRIPLE_ACTION -> SIT*SIT
$ -> CREATE_CHAIR = CREATE_DECORATION -> 7-1-FRONT:1,2,CHAIR_RIGHT_00


//// SIT ////

$ -> SIT = GOTO -> BLOCKING_PATH:FALSE, DELETE_CHAIR, CREATE_CHAIR_SIT, PLAYER_DROP_EATABLE, PLAYER_SITTING
$ -> DELETE_CHAIR = DELETE -> 7-1:2
$ -> CREATE_CHAIR_SIT = CREATE_DECORATION -> 7-1-BACK:1,2,CHAIR_RIGHT_01
$ -> PLAYER_SITTING = STATE_PLAYER -> 7-2,2,-1,RIGHT,SIT, SOUND:JUMP
$ -> CREATE_CHAIR_LEAVER_HANDLER = GOTO -> CREATE_CHAIR_LEAVER, AFFECTING:CHAIR_LEAVER_RIGHT_INIT
$ -> CREATE_CHAIR_LEAVER = CREATE -> 8-2-BACK:31-255-255


//// DROP EATABLE ////

$ -> PLAYER_DROP_EATABLE = CONDITION_PLAYER -> GLASS ? DRINK_CUTSCENE / CREATE_CHAIR_LEAVER_HANDLER
$ -> DRINK_CUTSCENE = GOTO -> CUTSCENE:START, SOUND:GLASS, CREATE_GLASS, WAITING_BEFORE_DRINK
$ -> WAITING_BEFORE_DRINK = WAITFOR -> TIMER:1 ? CUTSCENE:STOP_WITH_DELAY, DRINK_WATER, CREATE_CHAIR_LEAVER_HANDLER
$ -> DRINK_WATER = GOTO -> AFFECTING:HAS_NO_WATER, SOUND:DRINK_JUICE, DELETE_GLASS
$ -> CREATE_GLASS = CREATE_DECORATION -> 8-2-BACK:1,1,GLASS_07
$ -> DELETE_GLASS = DELETE -> 8-2:1