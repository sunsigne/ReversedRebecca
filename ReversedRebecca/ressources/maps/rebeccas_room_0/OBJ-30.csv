TIME -> 0 = GOTO -> AFFECTING:RIGHT_CHAIR_INIT


//// STATE ////

! -> RIGHT_CHAIR_INIT = GOTO -> HITBOX_INIT, TA_INIT, CREATE_CHAIR
$ -> HITBOX_INIT = HITBOX -> 6, 3, 10, 13
$ -> TA_INIT = TRIPLE_ACTION -> SIT*SIT
$ -> CREATE_CHAIR = CREATE_DECORATION -> 7-2-FRONT:1,2,CHAIR_RIGHT_00


//// SIT ////

$ -> SIT = GOTO -> BLOCKING_PATH:FALSE, DELETE_CHAIR, CREATE_CHAIR_SIT, PLAYER_DROP_EATABLE, PLAYER_SITTING
$ -> DELETE_CHAIR = DELETE -> 7-2:2
$ -> CREATE_CHAIR_SIT = CREATE_DECORATION -> 7-2-BACK:1,2,CHAIR_RIGHT_01
$ -> PLAYER_SITTING = STATE_PLAYER -> 7-3,2,-1,RIGHT,SIT, SOUND:JUMP
$ -> CREATE_CHAIR_LEAVER_HANDLER = GOTO -> CREATE_CHAIR_LEAVER, AFFECTING:CHAIR_LEAVER_RIGHT_INIT
$ -> CREATE_CHAIR_LEAVER = CREATE -> 8-3-BACK:31-255-255


//// DROP EATABLE ////

$ -> PLAYER_DROP_EATABLE = CONDITION_PLAYER -> GLASS ? DRINK_CUTSCENE / EAT_BREAKFAST
$ -> DRINK_CUTSCENE = GOTO -> CUTSCENE:START, SOUND:GLASS, CREATE_GLASS, WAITING_BEFORE_DRINK
$ -> WAITING_BEFORE_DRINK = WAITFOR -> TIMER:1 ? DRINK_WATER, EAT_BREAKFAST
$ -> DRINK_WATER = GOTO -> AFFECTING:HAS_NO_WATER, SOUND:DRINK_JUICE, DELETE_GLASS
$ -> CREATE_GLASS = CREATE_DECORATION -> 8-3-BACK:1,1,GLASS_07
$ -> DELETE_GLASS = DELETE -> 8-3:1


//// EAT PANCAKES ////

$ -> EAT_BREAKFAST = MEMORY -> PANCAKES ? EAT_PANCAKES_CONDITIONAL / FINISHED_BREAKFAST
$ -> EAT_PANCAKES_CONDITIONAL = MEMORY -> PANCAKES_SMELL_ONLY ? FINISHED_BREAKFAST / STARTING_BREAKFAST
$ -> STARTING_BREAKFAST = GOTO -> CUTSCENE:START, MEMORY:PANCAKES_SMELL_ONLY, WAITING_BEFORE_TALKING
$ -> WAITING_BEFORE_TALKING = WAITFOR -> TIMER:1 ? TALK:REBECCA_HAPPY_ABOUT_PANCAKES
TALKED -> REBECCA_HAPPY_ABOUT_PANCAKES = GOTO -> CUTSCENE:START, MEMORY:PANCAKES_SMELL_ONLY, WAITING_BEFORE_EATING
$ -> WAITING_BEFORE_EATING = WAITFOR -> TIMER:1 ? SOUND:EAT, REFRESH_PANCAKES, WAITING_BEFORE_EATING_MORE
$ -> WAITING_BEFORE_EATING_MORE = WAITFOR -> TIMER:3 ? SOUND:EAT, REFRESH_PANCAKES_MORE, WAITING_BEFORE_EATING_MORE_AGAIN
$ -> WAITING_BEFORE_EATING_MORE_AGAIN = WAITFOR -> TIMER:3 ? SOUND:EAT, DELETE_PLATE, WAITING_BEFORE_FINISHED
$ -> WAITING_BEFORE_FINISHED = WAITFOR -> TIMER:2 ? FINISHED_BREAKFAST, TALK:REBECCA_FINISHED_EATING_PANCAKES, UNSAVE_PANCAKES_ON_TABLE
$ -> FINISHED_BREAKFAST = GOTO -> CUTSCENE:STOP, CREATE_CHAIR_LEAVER_HANDLER
$ -> UNSAVE_PANCAKES_ON_TABLE = SAVE -> CANCEL_REGISTER, REBECCAS_ROOM*PANCAKES_ON_TABLE


//// REFRESH PANCAKES ////

$ -> REFRESH_PANCAKES = GOTO -> CREATE_PANCAKES, DELETE_PANCAKES
$ -> CREATE_PANCAKES = CREATE_DECORATION -> 8-3-BACK:1,1,PANCAKES_02
$ -> REFRESH_PANCAKES_MORE = GOTO -> CREATE_PANCAKES_MORE, DELETE_PANCAKES
$ -> CREATE_PANCAKES_MORE = CREATE_DECORATION -> 8-3-BACK:1,1,PANCAKES_03
$ -> DELETE_PANCAKES = DELETE -> 8-3:2
$ -> DELETE_PLATE = DELETE -> 8-3:1