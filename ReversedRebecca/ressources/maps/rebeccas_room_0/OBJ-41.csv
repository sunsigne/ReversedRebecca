TIME -> 1 = GOTO -> TA_INIT, DISABLE_ONTHESPOT:2


//// SET UP ////

$ -> TA_INIT = TRIPLE_ACTION -> OPEN*TALK_DOOR_MISSING_KEY
$ -> TA_NULL = TRIPLE_ACTION -> NULL


//// MISSING KEY ////

$ -> TALK_DOOR_MISSING_KEY = TALK -> DOOR_MISSING_KEY
TALKED -> DOOR_MISSING_KEY = CHOICE -> SEARCH*SEARCH_FOR_KEY, THINK*THINK_ABOUT_LAST_KEY_POS
! -> SEARCH_FOR_KEY = TALK -> DOOR_SEARCH
TALKED -> DOOR_SEARCH = GOTO -> AFFECTING:SEARCHING_KEY, ACTION_ONE:THINK*THINK_ABOUT_LAST_KEY_POS
$ -> THINK_ABOUT_LAST_KEY_POS = AFFECTING -> THINK_ABOUT_LAST_KEY_POS
! -> THINK_ABOUT_LAST_KEY_POS = GOTO -> MEMORY:KNOWING_KEY_POS, AFFECTING:KNOWING_KEY_POS, TALK:DOOR_THINK


//// FOUND KEY ////

! -> FAST_EXIT_POSSIBILITY =  WAITFOR -> TIMER:16 ? MEMORY:ACTIVATED_RIGHT_HAND_ADVISE
UNLOCKEDTOOL -> KEY:RED = ENABLE_ONTHESPOT -> 2
UNLOCKEDTOOL -> KEY:CYAN = MEMORY -> ACTIVATED_RIGHT_HAND_ADVISE ? TA_RIGHT_HAND / ENABLE_ONTHESPOT:2, TA_NULL
$ -> TA_RIGHT_HAND = TRIPLE_ACTION -> OPEN*TALK_DOOR_RIGHT_HAND
$ -> TALK_DOOR_RIGHT_HAND = TALK -> DOOR_RIGHT_HAND
TALKED -> DOOR_RIGHT_HAND = GOTO -> ENABLE_ONTHESPOT:2, FACING_PLAYER:UP, OPEN_DOOR
$ -> OPEN_DOOR = OPEN_PUZZLE -> 6-1,1
WONPUZZLE -> 6-1 = GOTO -> ACTION_GO_TO_WORK
$ -> ACTION_GO_TO_WORK = ACTION_ONE -> GO_TO_WORK*GO_TO_WORK_CONDITIONAL


//// REBECCA TOWEL ////

! -> NAME_PLAYER_REBECCA_TOWEL = NAME -> REBECCA_TOWEL
! -> NAME_PLAYER_REBECCA = NAME -> REBECCA_TOWEL ? READY_TO_GO / NULL
$ -> READY_TO_GO = GOTO -> NAME:REBECCA, ACTION_GO_TO_WORK
$ -> GO_TO_WORK_CONDITIONAL = NAME -> REBECCA_TOWEL ? TALK:GO_TO_WORK_TOWEL / GOTO_WORK


//// END LVL ////

$ -> GOTO_WORK = GOTO -> DELETE_ONTHESPOT:1, AFFECTING:END_LVL