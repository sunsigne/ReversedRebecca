TIME -> 0 = GOTO -> AFFECTING:DOWN_CHAIR_INIT


//// STATE ////

! -> DOWN_CHAIR_INIT = GOTO -> TA_INIT
$ -> TA_INIT = TRIPLE_ACTION -> SIT*SIT


//// SIT ////

$ -> SIT = GOTO -> BLOCKING_PATH:FALSE, PLAYER_DROP_EATABLE, PLAYER_SITTING
$ -> PLAYER_SITTING = STATE_PLAYER -> 9-2,0,-1,DOWN,SIT, SOUND:JUMP
$ -> CREATE_CHAIR_LEAVER_HANDLER = GOTO -> CREATE_CHAIR_LEAVER, AFFECTING:CHAIR_LEAVER_DOWN_INIT
$ -> CREATE_CHAIR_LEAVER = CREATE -> 9-3-BACK:31-255-255


//// DROP EATABLE ////

$ -> PLAYER_DROP_EATABLE = CONDITION_PLAYER -> GLASS ? DRINK_CUTSCENE / CREATE_CHAIR_LEAVER_HANDLER
$ -> DRINK_CUTSCENE = GOTO -> CUTSCENE:START, SOUND:GLASS, CREATE_GLASS, WAITING_BEFORE_DRINK
$ -> WAITING_BEFORE_DRINK = WAITFOR -> TIMER:1 ? CUTSCENE:STOP_WITH_DELAY, DRINK_WATER, CREATE_CHAIR_LEAVER_HANDLER
$ -> DRINK_WATER = GOTO -> AFFECTING:HAS_NO_WATER, SOUND:DRINK_JUICE, DELETE_GLASS
$ -> CREATE_GLASS = CREATE_DECORATION -> 9-3-BACK:1,1,GLASS_05
$ -> DELETE_GLASS = DELETE -> 9-3:1