TIME -> 0 = GOTO -> HITBOX_INIT, TA_INIT


//// STATE ////

$ -> HITBOX_INIT = HITBOX -> 3, 1, 10, 15
$ -> TA_INIT = TRIPLE_ACTION -> TALK(TALK)PLANT_GREET, CUSTOM(WATER_PLANT)WATER_WATERLESS


//// WATER WATERLESS ////

$ -> WATER_WATERLESS = GOTO -> MEMORY:WATER_WATERLESS, TALK:PLANT_WATERLESS
! -> HAS_NO_WATER = MEMORY -> WATER_WATERLESS ? ACTION_TWO:NULL / HAS_PLANT_BEEN_WATERED 
$ -> HAS_PLANT_BEEN_WATERED = MEMORY -> WATERED_PLANT ? ACTION_TWO:NULL / ACTION_TWO:CUSTOM(WATER_PLANT)WATER_WATERLESS


//// WATER PLANT ////

! -> HAS_WATER = MEMORY -> TOO_MUCH_WATER ? ACTION_TWO:NULL / TRY_TO_GIVE_WATER
$ -> TRY_TO_GIVE_WATER = MEMORY -> WATERED_PLANT ? ACTION_TWO:CUSTOM(WATER_PLANT)N_WATER / ACTION_TWO:CUSTOM(WATER_PLANT)FIRST_WATER
$ -> N_WATER = GOTO -> MEMORY:TOO_MUCH_WATER, TALK:PLANT_N_WATER
$ -> FIRST_WATER = GOTO -> WATERING_PLANT, TALK:PLANT_FIRST_WATER, A1_WATCH_PLANT
$ -> WATERING_PLANT = GOTO -> MEMORY:WATERED_PLANT, SAVE_WATERED_PLANT, AFFECTING:HAS_NO_WATER, CONDITION_PLAYER:GOOD, SOUND:WATER_PLANT
$ -> SAVE_WATERED_PLANT = SAVE -> REGISTER, REBECCAS_ROOM*WATERED_PLANT


//// TALK PLANT ////

$ -> A1_WATCH_PLANT = ACTION_ONE -> TALK(WATCH)PLANT_WATCH


//// SEARCHING KEY ////

! -> KNOWING_KEY_POS = ACTION -> 3,NULL
! -> SEARCHING_KEY = ACTION -> 3,CUSTOM(SEARCH_KEY)TALK_KEY_SEARCH_CONDITIONNAL
$ -> TALK_KEY_SEARCH_CONDITIONNAL = MEMORY -> KEY_SECOND_ATTEMPT ? MEMORY:KNOWING_KEY_POS, AFFECTING:KNOWING_KEY_POS, TALK:KEY_FOUND*PLANT / FIRST_ATTEMPT_CONDITIONNAL, TALK:KEY_FAIL*PLANT
$ -> FIRST_ATTEMPT_CONDITIONNAL = MEMORY -> KEY_FIRST_ATTEMPT ? MEMORY:KEY_SECOND_ATTEMPT / MEMORY:KEY_FIRST_ATTEMPT