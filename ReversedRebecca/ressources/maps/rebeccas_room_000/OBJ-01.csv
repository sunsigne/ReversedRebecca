TIME -> 5 = GOTO -> HITBOX_INIT, HIGHLIGHT_INIT, TA_INIT


//// STATE ////

$ -> HITBOX_INIT = HITBOX -> 0, 0, 16, 21
$ -> HIGHLIGHT_INIT = HIGHLIGHT -> -1, -1, 1, 3
$ -> HIGHLIGHT_DEFAULT = HIGHLIGHT -> 0, -1, 1, 3
$ -> TA_INIT = TRIPLE_ACTION -> WAKE_UP*LEAVE_BED


//// LEAVE BED ////

$ -> LEAVE_BED = GOTO -> PLAYER_EXIT_BED, CREATE_BED, HIGHLIGHT_DEFAULT, AFFECTING:SARAH*SARAH_ON_THE_WAY
$ -> PLAYER_EXIT_BED = STATE_PLAYER -> 6-7,0,0,LEFT,GOOD, MEMORY:AWAKE, SOUND:JUMP, AFFECTING:FAST_EXIT_POSSIBILITY
$ -> CREATE_BED = TP -> 7-7


//// SEARCHING KEY ////

! -> KNOWING_KEY_POS = ACTION -> 3,NULL
! -> SEARCHING_KEY = ACTION -> 3,SEARCH_KEY*TALK_KEY_SEARCH_CONDITIONNAL
$ -> TALK_KEY_SEARCH_CONDITIONNAL = MEMORY -> KEY_SECOND_ATTEMPT ? MEMORY:KNOWING_KEY_POS, AFFECTING:KNOWING_KEY_POS, TALK:KEY_FOUND_BED / FIRST_ATTEMPT_CONDITIONNAL, TALK:KEY_SEARCH_BED
$ -> FIRST_ATTEMPT_CONDITIONNAL = MEMORY -> KEY_FIRST_ATTEMPT ? MEMORY:KEY_SECOND_ATTEMPT / MEMORY:KEY_FIRST_ATTEMPT