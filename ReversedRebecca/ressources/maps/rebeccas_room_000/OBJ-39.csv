TIME -> 0 = GOTO -> HITBOX_INIT, TA_INIT, HIDDEN_KEY


//// STATE ////

$ -> HITBOX_INIT = HITBOX -> 0, 0, 12, 16
$ -> TA_INIT = TRIPLE_ACTION -> EAT_COOKIE*EAT_COOKIE, DRINK_JUICE*DRINK_JUICE


//// OPEN FRIDGE ////

$ -> EAT_COOKIE = GOTO -> ACTION_ONE:EAT_COOKIE*EAT_COOKIE, CREATE_BONUSTEXT_CRUNCH, SOUND:EAT_COOKIE, SAVE_ATE_BREAKFAST
$ -> DRINK_JUICE = GOTO -> ACTION_TWO:DRINK_JUICE*DRINK_JUICE, CREATE_BONUSTEXT_SLURP, SOUND:DRINK_JUICE, SAVE_ATE_BREAKFAST
$ -> CREATE_BONUSTEXT_CRUNCH = CREATE_BONUSTEXT -> 2-5:CRUNCH
$ -> CREATE_BONUSTEXT_SLURP = CREATE_BONUSTEXT -> 2-5:SLURP
$ -> SAVE_ATE_BREAKFAST = SAVE -> REGISTER, REBECCAS_ROOM*ATE_BREAKFAST


//// SEARCHING KEY ////

$ -> HIDDEN_KEY = WAITFOR -> PLAYER_CLOSER_THAN:2 ? WAITING_FAR_ENOUGH
$ -> WAITING_FAR_ENOUGH = WAITFOR -> PLAYER_FUTHER_THAN:8 ? REVEAL_KEY
$ -> REVEAL_KEY = MEMORY -> KNOWING_KEY_POS ? NULL / A3_WAIT_WHAT
! -> SEARCHING_KEY = GOTO -> A3_WAIT_WHAT
$ -> A3_WAIT_WHAT = ACTION -> 3,WAIT_WHAT*TALK_ABOUT_KEY_IN_FRIDGE
$ -> TALK_ABOUT_KEY_IN_FRIDGE = GOTO -> AFFECTING:TP_PLAYER_TO_FRIDGE, TALK:FRIDGE_KEY
TALKED -> FRIDGE_KEY = GOTO -> CREATE_KEY_HANDLER
TALKED -> DOOR_THINK = ACTION -> 3,TAKE_KEY*CREATE_KEY_HANDLER
$ -> CREATE_KEY_HANDLER = GOTO -> AFFECTING:TP_PLAYER_TO_FRIDGE, CREATE_KEY, SOUND:LOOT_SPAWN, MEMORY:KNOWING_KEY_POS, AFFECTING:KNOWING_KEY_POS
$ -> CREATE_KEY = CREATE -> 2-4-BACK:1-1-255


//// SARAH INTERACTION ////

! -> SARAH_INTERACTION = ACTION -> 3,OFFER_A_JUICE*OFFER_A_JUICE
! -> SARAH_NO_LONGER_IN_TOILET = MEMORY -> JUICE_OFFERED ? NULL / ACTION_THREE:OFFER_A_JUICE*OFFER_A_JUICE
! -> SARAH_IN_TOILET = ACTION -> 3,NULL
! -> SARAH_SLEEP = ACTION -> 3,NULL
! -> SARAH_LEFT = ACTION -> 3,NULL
$ -> OFFER_A_JUICE = TALK -> SARAH_OFFER_A_JUICE
TALKED -> SARAH_OFFER_A_JUICE = GOTO -> MEMORY:JUICE_OFFERED, GOOD_DEED:OFFER_A_JUICE, DRINK_JUICE, AFFECTING:SARAH_WATCH_TARGET