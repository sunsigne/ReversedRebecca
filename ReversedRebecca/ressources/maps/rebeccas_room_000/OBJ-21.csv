! -> COUCH_LEAVER_INIT = GOTO -> BLOCKING_PATH:FALSE, TA_INIT, HIGHLIGHT_INIT


//// STATE ////

$ -> TA_INIT = TRIPLE_ACTION -> FACE_REALITY*EXIT_COUCH
$ -> HIGHLIGHT_INIT = HIGHLIGHT_ABSOLUTE -> 18, 2, 1, 3


//// LEAVE COUCH ////

$ -> EXIT_COUCH = GOTO -> PLAYER_EXIT_COUCH, PLAYER_TAKE_GLASS, AFFECTING:OBJ-20*A1_RELAX_VERTICAL_COUCH, DELETE_ONTHESPOT:1
$ -> PLAYER_EXIT_COUCH = STATE_PLAYER -> 17-3,0,0,LEFT,GOOD, AFFECTING:OBJ-20*BLOCKING_VERTICAL_COUCH_TRUE, SOUND:JUMP


//// DROP GLASS ////

! -> GLASS_ON_GROUND_VERTICAL_COUCH = GOTO -> PLAYER_DROP_GLASS
$ -> PLAYER_DROP_GLASS = CONDITION_PLAYER -> GLASS ? CREATE_GLASS_HANDLER / NULL
$ -> CREATE_GLASS_HANDLER = GOTO -> NAME:GLASS, CREATE_GLASS, SOUND:GLASS
$ -> CREATE_GLASS = CREATE_DECORATION -> 17-2-BACK:WORLD,1,1,GLASS_03


//// TAKE GLASS ////

$ -> PLAYER_TAKE_GLASS = NAME -> GLASS ? DELETE_GLASS_HANDLER / NULL
$ -> DELETE_GLASS_HANDLER = GOTO -> NAME:NONE, DELETE_GLASS, SOUND:GLASS, CONDITION_PLAYER:GLASS
$ -> DELETE_GLASS = DELETE -> 17-2:WORLD,1