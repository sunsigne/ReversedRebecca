! -> INIT_GREEN_SAS_DOORS = GOTO -> TA_INIT
! -> INIT_EXIT_DOORS = GOTO -> TA_INIT_VAR


//// BEHAVIOR ////

$ -> TA_INIT = TRIPLE_ACTION -> CUSTOM(ASK_FOR_OPENING)ASK_FOR_OPENING
$ -> TA_INIT_END = TRIPLE_ACTION -> CUSTOM(ASK_FOR_OPENING_END)ASK_FOR_OPENING
$ -> ASK_FOR_OPENING = GOTO -> TA_INIT, CREATE_BONUSTEXT_OPEN_IT, SOUND:REBECCA, AFFECTING:ALICIA*ASK_FOR_OPENING_GREEN_DOWN_SAS_DOOR
$ -> CREATE_BONUSTEXT_OPEN_IT = CREATE_BONUSTEXT -> 26-35,NORMAL,OPEN_IT
! -> OPEN_DOOR = GOTO -> SOUND:DOOR_UNLOCK, CREATE_DOOR, UNLOCK_DOOR_ANIMATION, CREATE_EXIT_DOOR_RECEPTION_HANDLER, DELETE_ONTHESPOT:3, DELETE_ONTHESPOT:2
$ -> UNLOCK_DOOR_ANIMATION = CREATE -> ONTHESPOT-FRONT:1-128-1
$ -> CREATE_DOOR  = CREATE -> ONTHESPOT-BACK:1-235-0


//// END LVL ////

$ -> CREATE_EXIT_DOOR_RECEPTION_HANDLER = GOTO -> CREATE_EXIT_DOOR_RECEPTION, AFFECTING:OBJ-32*INIT_EXIT_DOOR_RECEPTION_END
$ -> CREATE_EXIT_DOOR_RECEPTION = CREATE -> 41-42-BACK:32-255-255

$ -> TA_INIT_VAR = TRIPLE_ACTION -> CUSTOM(OPEN)OPEN_DOOR_HANDLER
$ -> TA_END = TRIPLE_ACTION -> CUSTOM(OPEN_END)OPEN_DOOR_HANDLER_END
$ -> OPEN_DOOR_HANDLER = GOTO -> TA_INIT_VAR, OPEN_DOOR
$ -> OPEN_DOOR_HANDLER_END = GOTO -> TA_END, OPEN_DOOR
$ -> OPEN_DOOR = OPEN_PUZZLE -> 26-36,1
WONPUZZLE -> 26-36 = DELETE_MYSELF -> PROCESS
WONPUZZLE -> 41-42 = MEMORY -> ALICIA_HAS_GREEN_KEYS ? TA_INIT_END / TA_END