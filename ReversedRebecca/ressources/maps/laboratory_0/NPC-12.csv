TIME -> 0 = GOTO -> NAME:DELTA, FACING:UP, LARGE_STOP_HITBOX
! -> SCENARIO_EXIT = GOTO -> TA_INIT_EXIT
! -> SCENARIO_INQUIRY = GOTO -> TA_INIT_INQUIRY


//// STATE ////

$ -> NORMAL_HITBOX = HITBOX -> 0, 0, 16, 16
$ -> LARGE_HITBOX = HITBOX -> -32, -16, 64, 64
! -> DELTA_NORMAL_STATE = GOTO -> BLOCKING_PATH:TRUE, NORMAL_HITBOX
! -> DELTA_LARGE_DETECTION_STATE = GOTO -> LARGE_STOP_HITBOX
$ -> DELTA_LARGE_DETECTION_STATE = GOTO -> BLOCKING_PATH:FALSE, LARGE_HITBOX

! -> DELTA_TA_NULL = GOTO -> DELTA_TA_NULL
$ -> TA_NULL = TRIPLE_ACTION -> NULL
! -> DELTA_WAITFOR_NULL = WAITFOR -> NULL
! -> DELTA_FACING_LEFT = FACING -> LEFT
! -> DELTA_FACING_DOWN = FACING -> DOWN

$ -> LARGE_STOP_HITBOX = GOTO -> PLAYER_AVOIDER_TYPE:STOP, DELTA_LARGE_DETECTION_STATE, DELTA_PLAYER_DISTANCE_CHECKER, CHECK_PLAYER_DISTANCE
$ -> CHECK_PLAYER_DISTANCE = WAITFOR -> PLAYER_FUTHER_THAN:3 ? FACING:UP, DELTA_LARGE_DETECTION_STATE, CHECK_PLAYER_DISTANCE
$ -> DELTA_PLAYER_DISTANCE_CHECKER = GOTO -> CREATE_DELTA_PLAYER_DISTANCE_CHECKER, AFFECTING:INIT_DELTA_PLAYER_DISTANCE_CHECKER, TP:32-43
$ -> CREATE_DELTA_PLAYER_DISTANCE_CHECKER = CREATE -> ONTHESPOT-BACK:16-255-255


//// EXIT CYAN ////

$ -> TA_INIT_EXIT = TRIPLE_ACTION -> TALK_VAR*TALK_DELTA_KEY
$ -> TALK_DELTA_KEY = UNLOCKEDTOOL -> KEY:CYAN ? TALK:DELTA_KEY_EXIT / TALK:DELTA_KEY
TALKED -> DELTA_KEY_EXIT = GOTO -> A1_DELTA_THATS_CRAZY, MEMORY:DELTA_KEY_EXIT_DISCUSSION
TALKED -> DELTA_KEY = GOTO -> A1_DELTA_THATS_CRAZY
$ -> A1_DELTA_THATS_CRAZY = ACTION_ONE -> TALK*DELTA_THATS_CRAZY
TALKED -> DELTA_THATS_CRAZY = GOTO -> DISABLE_ONTHESPOT:2, CHOICE_FUN_OR_UNCOOL
$ -> CHOICE_FUN_OR_UNCOOL = CHOICE -> SOUNDS_FUN*DELTA_SOUNDS_FUN, THATS_NOT_COOL*DELTA_THATS_NOT_COOL
! -> DELTA_SOUNDS_FUN = TALK -> DELTA_SOUNDS_FUN
TALKED -> DELTA_SOUNDS_FUN = GOTO -> ENABLE_ONTHESPOT:2, ACTION_ONE:TALK*DELTA_ADDICT
TALKED -> DELTA_ADDICT = ACTION_ONE -> TALK*DELTA_FIRSTNAME
! -> DELTA_THATS_NOT_COOL = TALK -> DELTA_THATS_NOT_COOL
TALKED -> DELTA_THATS_NOT_COOL = GOTO -> ENABLE_ONTHESPOT:2, ACTION_ONE:TALK*DELTA_PAST
TALKED -> DELTA_PAST = ACTION_ONE -> TALK*DELTA_JUST_CHECKING
TALKED -> DELTA_JUST_CHECKING = ACTION_ONE -> TALK*DELTA_FIRSTNAME
TALKED -> DELTA_FIRSTNAME = ACTION_ONE -> TALK_VAR*DELTA_WHERE_DO_I_FIND
$ -> DELTA_WHERE_DO_I_FIND = MEMORY -> SCENARIO_INQUIRY ? TALK:DELTA_WHERE_DO_I_FIND_STOLEN / PARSE_DELTA_KEY_EXIT_DISCUSSION
$ -> PARSE_DELTA_KEY_EXIT_DISCUSSION = MEMORY -> DELTA_KEY_EXIT_DISCUSSION ? TALK:DELTA_WHERE_DO_I_FIND_KEY / TALK:DELTA_WHERE_DO_I_FIND_EXIT


//// EXIT ////

! -> DELTA_SIT = GOTO -> TURN_CHAIR_AT_CAMILLE_DESK, SOUND_IF_CAMERA:SIT, CONDITION:SIT, FACING:RIGHT, TP:31-43
$ -> TURN_CHAIR_AT_CAMILLE_DESK = GOTO -> AFFECTING:BLOCKING_PATH_FALSE_DELTA_CHAIR, DELETE_DELTA_CHAIR, CREATE_RIGHT_CHAIR
$ -> DELETE_DELTA_CHAIR = DELETE -> 31-43:1
$ -> CREATE_RIGHT_CHAIR = CREATE_DECORATION -> 31-43-BACK:1,1,CHAIR_RIGHT_11


//// INQUIRY ////

$ -> TA_INIT_INQUIRY = TRIPLE_ACTION -> TALK*DELTA_HAVE_YOU_DATA
TALKED -> DELTA_HAVE_YOU_DATA = GOTO -> A1_DELTA_THATS_CRAZY
! -> ALICIA_MAYBE_HURTED = ACTION_THREE -> ALICIA*TALK_DELTA_WHERE_IS_ALICIA
$ -> TALK_DELTA_WHERE_IS_ALICIA = GOTO -> CUTSCENE:START, WAITFOR_TALK_DELTA_WHERE_IS_ALICIA
$ -> WAITFOR_TALK_DELTA_WHERE_IS_ALICIA = WAITFOR -> TIMER:1 ? TALK:DELTA_WHERE_IS_ALICIA
TALKED -> DELTA_WHERE_IS_ALICIA = GOTO -> TA_NULL, PLAYER_AVOIDER_TYPE:TRHOUGH


//// MIKA DELTA ////

! -> MIKA_DELTA_SEARCHING_ALICIA = GOTO -> SLOW:32-44, PLAYER_AVOIDER_TYPE:AROUND
GOAL -> 32-44 = SLOW -> 31-44
GOAL -> 31-44 = GOTO -> SLOW:28-44, AFFECTING:MIKA_START_FOLLOWING_DELTA
GOAL -> 28-44 = GOTO -> SLOW:29-39, PLAYER_AVOIDER_TYPE:STOP
GOAL -> 29-39 = MEMORY -> MIKA_DELTA_SEARCHING_ALICIA ? WAITFOR_SIDESTEP_ALICIA_ROOM_WITH_MIKA / NULL
$ -> WAITFOR_SIDESTEP_ALICIA_ROOM_WITH_MIKA = WAITFOR -> TIMER:1 ? SLOW:29-38, PLAYER_NOT_VERIFIED
GOAL -> 29-38 = GOTO -> MOVE:STOP, FACING:DOWN