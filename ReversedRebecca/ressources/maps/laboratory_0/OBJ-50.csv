! -> INIT_PLAYER_LEAVING_CHECKER_ENTRANCE = GOTO -> BLOCKING_PATH:FALSE, CHECK_PLAYER_DISTANCE_ENTRANCE
! -> INIT_PLAYER_LEAVING_CHECKER_RECEPTION = GOTO -> BLOCKING_PATH:FALSE, CHECK_PLAYER_DISTANCE_RECEPTION


//// BEHAVIOR ////

$ -> CHECK_PLAYER_DISTANCE_RECEPTION = WAITFOR -> PLAYER_CLOSER_THAN:1 ? PARSE_PLAYER_CHOOSE_TO_COME_BACK
$ -> CHECK_PLAYER_DISTANCE_ENTRANCE = WAITFOR -> PLAYER_FUTHER_THAN:2 ? PARSE_PLAYER_CHOOSE_TO_COME_BACK
$ -> PARSE_PLAYER_CHOOSE_TO_COME_BACK = MEMORY -> PLAYER_CHOOSE_TO_COME_BACK ? BAD_DEED:ABANDON_EVERYONE, TALK:PLAYER_LEAVING_NEXT / FIRST_ATTEMPT_TO_LEAVE
$ -> FIRST_ATTEMPT_TO_LEAVE = GOTO -> CUTSCENE:START, WAITFOR_TALK_PLAYER_LEAVING
$ -> WAITFOR_TALK_PLAYER_LEAVING = WAITFOR -> TIMER:1 ? TALK:PLAYER_LEAVING
TALKED -> PLAYER_LEAVING = CHOICE -> PLAYER : COME_BACK*CHOICE_COME_BACK, ABANDON_EVERYONE*CHOICE_ABANDON_EVERYONE
! -> CHOICE_COME_BACK = GOTO -> MEMORY:PLAYER_CHOOSE_TO_COME_BACK, DELETE_MYSELF:PROCESS