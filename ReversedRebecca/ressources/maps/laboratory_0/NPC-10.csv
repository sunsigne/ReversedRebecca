TIME -> 0 = GOTO -> NAME:MIKA


//// VLADIMIR CUTSCENE ////

! -> VLADIMIR_ARRIVAL = GOTO -> NULL
TALKED -> MIKA_STOP_HIM = WAITFOR -> TIMER:3 ? FAST:26-56
GOAL -> 26-56 = WAITFOR -> TIMER:4 ? TALK:MIKA_DAMN_IT
TALKED -> MIKA_DAMN_IT = WAITFOR -> TIMER:4 ? EXPRESSION:SUSPENSION, WAITFOR_MIKA_WHAT_HAPPENED
$ -> WAITFOR_MIKA_WHAT_HAPPENED = WAITFOR -> TIMER:2 ? TALK:MIKA_WHAT_HAPPENED
! -> START_LEVEL = WAITFOR -> TIMER:2 ? FACING:DOWN, PARSE_SCENARIO


//// INQUIRY ////

$ -> PARSE_SCENARIO = MEMORY -> SCENARIO_INQUIRY ? UNLOCK_SOON_INQUIRY / NULL
$ -> UNLOCK_SOON_INQUIRY = GOTO -> WAIFOR_HEADING_RUBBLES, ACTION_ONE:TALK*MIKA_INQUIRY_SOON
TALKED -> MIKA_INQUIRY_SOON = GOTO -> FACING:DOWN, MEMORY:TALKED_MIKA_INQUIRY_SOON
$ -> WAIFOR_HEADING_RUBBLES = WAITFOR -> TIMER:5 ? SLOW:26-57
GOAL -> 26-57 = MEMORY -> MIKA_HURRY_UP_AGAIN ? NULL / PARSE_TALKED_MIKA_INQUIRY_SOON
$ -> PARSE_TALKED_MIKA_INQUIRY_SOON = MEMORY -> TALKED_MIKA_INQUIRY_SOON ? TALK_MIKA_INQUIRY / ACTION_ONE:TALK*MIKA_INQUIRY
$ -> TALK_MIKA_INQUIRY = PLAYER_CLOSER_THAN -> 4 ? TALK:MIKA_INQUIRY_SOON_NEXT / ACTION_ONE:TALK*MIKA_INQUIRY_VAR
TALKED -> MIKA_INQUIRY_SOON_NEXT = TALK -> MIKA_INQUIRY
TALKED -> MIKA_INQUIRY = GOTO -> ALICIA_MAYBE_HURTED
TALKED -> MIKA_INQUIRY_VAR = GOTO -> ALICIA_MAYBE_HURTED
TALKED -> MIKA_HURRY_UP = GOTO -> ACTION_ONE:TALK_VAR*MIKA_HURRY_UP_AGAIN, FACING:DOWN
$ -> MIKA_HURRY_UP_AGAIN = GOTO -> CUTSCENE:START, AFFECTING:MOVE_PLAYER_IN_FRONT_OF_MIKA, WAITFOR_EXCLAMATION_BEFORE_PUSHING_PLAYER
$ -> WAITFOR_EXCLAMATION_BEFORE_PUSHING_PLAYER = WAITFOR -> TIMER:1 ? EXPRESSION:EXCLAMATION, WAITFOR_BEFORE_PUSHING_PLAYER
$ -> WAITFOR_BEFORE_PUSHING_PLAYER = WAITFOR -> TIMER:1 ? PLAYER_AVOIDER_TYPE:FORCE, SLOW:26-52
GOAL -> 26-52 = WAITFOR -> TIMER:1 ? TALK:MIKA_HURRY_UP_AGAIN
TALKED -> MIKA_HURRY_UP_AGAIN = WAITFOR -> TIMER:1 ? CUTSCENE:STOP_WITH_DELAY, PLAYER_AVOIDER_TYPE:AROUND, MEMORY:MIKA_HURRY_UP_AGAIN, MOVE:26-57, ACTION_ONE:TALK_VAR*MIKA_HURRY_UP_LAST
$ -> MIKA_HURRY_UP_LAST = GOTO -> CUTSCENE:START, AFFECTING:MOVE_PLAYER_IN_FRONT_OF_MIKA, WAITFOR_EXCLAMATION_BEFORE_EXASPERATION
$ -> WAITFOR_EXCLAMATION_BEFORE_EXASPERATION = WAITFOR -> TIMER:1 ? EXPRESSION:EXCLAMATION, WAITFOR_BEFORE_EXASPERATION
$ -> WAITFOR_BEFORE_EXASPERATION = WAITFOR -> TIMER:1 ? TALK:MIKA_HURRY_UP_LAST
$ -> WAITFOR_MIKA_HURRY_UP_LAST_REBECCA = WAITFOR -> TIMER:3 ? TALK:MIKA_HURRY_UP_LAST_REBECCA
TALKED -> MIKA_HURRY_UP_LAST_REBECCA = GOTO -> PLAYER_AVOIDER_TYPE:CUTSCENE, CUTSCENE:STOP
TALKED -> MIKA_HURRY_UP_LAST = GOTO -> PLAYER_AVOIDER_TYPE:PUSH_RIGHT, MOVE:26-47, WAITFOR_MIKA_HURRY_UP_LAST_REBECCA
$ -> ALICIA_MAYBE_HURTED = GOTO -> MEMORY:ALICIA_MAYBE_HURTED, AFFECTING:ALICIA_MAYBE_HURTED, ACTION_ONE:TALK*MIKA_HURRY_UP, FACING:DOWN


//// MIKA DELTA ////

GOAL -> 26-47 = GOTO -> MOVE:32-44, TP:30-44
GOAL -> 32-44 = MEMORY -> MIKA_DELTA_SEARCHING_ALICIA ? SLOW:31-44 / MIKA_TALKING_TO_DELTA
$ -> MIKA_TALKING_TO_DELTA = GOTO -> FACING:UP, DELTA_NOTICE_MIKA_PRESENCE, ACTION_ONE:LISTEN*LISTEN_MIKA_DELTA_CONVERSATION, WAITFOR_SIDESTEP_AFTER_DELTA_CONVERSATION
$ -> DELTA_NOTICE_MIKA_PRESENCE = GOTO -> AFFECTING:DELTA_NORMAL_STATE, AFFECTING:DELTA_TA_NULL, AFFECTING:DELTA_WAITFOR_NULL, AFFECTING:DELTA_FACING_DOWN
$ -> LISTEN_MIKA_DELTA_CONVERSATION = TALK -> MIKA_DELTA_CONVERSATION
$ -> WAITFOR_SIDESTEP_AFTER_DELTA_CONVERSATION = WAITFOR -> TIMER:8 ? SLOW:33-44, MEMORY:MIKA_DELTA_SEARCHING_ALICIA, ACTION_ONE:NULL
GOAL -> 33-44 = GOTO -> FACING:LEFT, AFFECTING:MIKA_DELTA_SEARCHING_ALICIA
! -> MIKA_START_FOLLOWING_DELTA = GOTO -> PLAYER_AVOIDER_TYPE:FORCE, SLOW:32-44
GOAL -> 31-44 = SLOW -> 30-44
GOAL -> 30-44 = SLOW -> 29-44
GOAL -> 29-44 = SLOW -> 28-44
GOAL -> 28-44 = SLOW -> 27-44
GOAL -> 27-44 = SLOW -> 26-44
GOAL -> 26-44 = SLOW -> 26-43
GOAL -> 26-43 = SLOW -> 26-42
GOAL -> 26-42 = SLOW -> 26-41
GOAL -> 26-41 = SLOW -> 26-40
GOAL -> 26-40 = SLOW -> 26-39
GOAL -> 26-39 = SLOW -> 27-39
GOAL -> 27-39 = SLOW -> 28-39
GOAL -> 28-39 = GOTO -> AFFECTING:DELTA_FACING_LEFT