TIME -> 0 = GOTO -> NAME:REBECCA, FACING:UP


//// REBECCAS DESK ////

! -> TP_PLAYER_OUT_OF_SIGHT = GOTO -> BLOCKING_PATH:TRUE, TP:25-65
! -> TP_PLAYER_TO_CHOICE_ABOUT_IGNORING_DOOR = GOTO -> TP:22-54, BLOCKING_PATH:TRUE
! -> MOVE_PLAYER_IN_FRONT_OF_MIKA = MOVE -> 26-56
GOAL -> 26-56 = FACING -> DOWN
! -> MOVE_PLAYER_BESIDE_MIKA = FACING -> LEFT ? NULL / MOVE:25-57
GOAL -> 25-57 = FACING -> RIGHT
! -> TP_PLAYER_LEFT_KISS = TP -> 25-57
! -> TP_PLAYER_RIGHT_KISS = TP -> 27-57
! -> TP_PLAYER_TO_INVENTORY = TP -> 13-39
! -> TP_PLAYER_TO_INVENTORY_VAR = TP -> 14-39
! -> TP_TO_SABOTAGE_DOOR = GOTO -> TP:19-26, FACING:RIGHT

! -> PUSHING_PLAYER_CUTSCENE = GOTO -> WAITFOR_STUN:FALSE, TP:21-54, FACING:LEFT, PUSH:RIGHT, WAITFOR_PUSHING_PLAYER_CUTSCENE
$ -> WAITFOR_PUSHING_PLAYER_CUTSCENE = WAITFOR -> TIMER:1 ? WAITFOR_STUN:TRUE, PARSE_SARAH_PUSHED_REBECCA_IN_FRONT_OF_ALICIA
$ -> PARSE_SARAH_PUSHED_REBECCA_IN_FRONT_OF_ALICIA = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:SARAH_ANGRY_SADISTIC*ALICIA_REACTION_SARAH_PUSH_REBECCA / PARSE_SARAH_PUSHED_REBECCA_ONCE
$ -> PARSE_SARAH_PUSHED_REBECCA_ONCE = MEMORY -> SARAH_PUSHED_REBECCA_ONCE ? PARSE_SARAH_PUSHED_REBECCA_TWICE / TALK:SARAH_ANGRY_SADISTIC*SARAH_PUSH_REBECCA
$ -> PARSE_SARAH_PUSHED_REBECCA_TWICE = MEMORY -> SARAH_PUSHED_REBECCA_TWICE ? AFFECTING:SARAH*PUSH_REBECCA_OUT_DESK / TALK:SARAH_ANGRY_SADISTIC*SARAH_PUSH_REBECCA_TWICE


//// VLADIMIR CUTSCENE ////

! -> VLADIMIR_ARRIVAL = GOTO -> TP:23-53, FACING:RIGHT, EXPRESSION:EXCLAMATION
TALKED -> VLADIMIR_CUTSCENE*MIKA_DAMN_IT = SLOW -> 27-55
GOAL -> 27-55 = WAITFOR -> TIMER:1 ? CAMERA:PLAYER_FLUID 
TALKED -> VLADIMIR_CUTSCENE*MIKA_WHAT_HAPPENED = MEMORY -> SARAH_ANGRY_REALLY_HARD ? AFFECTING:MUSIC_LABORATORY, TALK:VLADIMIR_CUTSCENE*MIKA_WHAT_HAPPENED_SADISTIC / TALK:VLADIMIR_CUTSCENE*MIKA_WHAT_HAPPENED_PRE_NEXT
TALKED -> VLADIMIR_CUTSCENE*MIKA_WHAT_HAPPENED_PRE_NEXT = GOTO -> AFFECTING:MUSIC_LABORATORY, TALK_MIKA_WHAT_HAPPENED_NEXT_ANGRY_CONDITIONNAL
$ -> TALK_MIKA_WHAT_HAPPENED_NEXT_ANGRY_CONDITIONNAL = MEMORY -> SARAH_ANGRY ? TALK:VLADIMIR_CUTSCENE*MIKA_WHAT_HAPPENED_NEXT_ANGRY / TALK:VLADIMIR_CUTSCENE*MIKA_WHAT_HAPPENED_NEXT
TALKED -> VLADIMIR_CUTSCENE*MIKA_WHAT_HAPPENED_NEXT_ANGRY = GOTO -> FACING_PLAYER:LEFT, CHOICE_INVESTIGATION_WITH_SARAH
TALKED -> VLADIMIR_CUTSCENE*MIKA_WHAT_HAPPENED_NEXT = GOTO -> FACING_PLAYER:LEFT, CHOICE_INVESTIGATION_WITH_SARAH
$ -> CHOICE_INVESTIGATION_WITH_SARAH = CHOICE -> PLAYER : (FIND_AN_EXIT)CHOOSING_FIND_AN_EXIT, (INVASTIGATE_THE_INTRUDER)CHOOSING_INVASTIGATE_THE_INTRUDER


//// SARAH CYAN KEY DESK CUTSCENE //// 

! -> SARAH_CYAN_KEY_DESK_CUTSCENE = GOTO -> MOVE:22-44
GOAL -> 22-44 = GOTO -> FACING:RIGHT
TALKED -> SARAH_INQUIRY*REBECCA_HELP_FOR_KEYS = CHOICE -> SARAH : (YES)CYAN_KEY_I_SAW_IT_WHEN_I_ENTERED, (LIE_NO)CYAN_KEY_THERE_IS_NO_KEY_HERE
TALKED -> SARAH_INQUIRY*REBECCA_HELP_FOR_KEYS_ALICIA = CHOICE -> SARAH : (YES)CYAN_KEY_I_SAW_IT_WHEN_I_ENTERED, (LIE_NO)CYAN_KEY_THERE_IS_NO_KEY_HERE
! -> CYAN_KEY_THERE_IS_NO_KEY_HERE = TALK -> SARAH_INQUIRY*REBECCA_NO_KEYS
! -> CYAN_KEY_I_SAW_IT_WHEN_I_ENTERED = TALK -> SARAH_INQUIRY*REBECCA_WAIT_HERE_FOR_KEYS
TALKED -> SARAH_INQUIRY*REBECCA_WAIT_HERE_FOR_KEYS = MOVE -> 20-42
GOAL -> 20-42 = GOTO -> FACING:RIGHT, WAITFOR_TAKING_KEY_FOR_SARAH
$ -> WAITFOR_TAKING_KEY_FOR_SARAH = WAITFOR -> TIMER:1 ? SOUND:KEYS, WAITFOR_BRINGING_KEY_TO_SARAH
$ -> WAITFOR_BRINGING_KEY_TO_SARAH = WAITFOR -> TIMER:1 ? MOVE:23-44
GOAL -> 23-44 = WAITFOR -> TIMER:1 ? SOUND:KEYS, WAITFOR_GIVING_KEY_TO_SARAH
$ -> WAITFOR_GIVING_KEY_TO_SARAH = WAITFOR -> TIMER:1 ? TALK:SARAH_INQUIRY*REBECCA_GIVING_KEYS
TALKED -> SARAH_INQUIRY*REBECCA_NO_KEYS = CUTSCENE -> STOP
TALKED -> SARAH_INQUIRY*REBECCA_GIVING_KEYS = CUTSCENE -> STOP


//// MIKA EXIT AREA ////

TALKED -> MIKA_EXIT*MIKA_BOMB = WAITFOR -> TIMER:2 ? SLOW:26-57
GOAL -> 26-57 = GOTO -> FACING:DOWN, BOMB_MIKA_RUBBLE
$ -> BOMB_MIKA_RUBBLE = OPEN_PUZZLE -> 26-58,1
WONPUZZLE -> 26-58 = GOTO -> CUTSCENE:START, TALK:REBECCA_EXIT*EXIT_IS_OPENED
TALKED -> REBECCA_EXIT*EXIT_IS_OPENED_VAR = WAITFOR -> TIMER:1 ? FREE_AND_BEFRIEND_ALICIA_CONDITIONNAL, FACING:DOWN, WAITFOR_TALK_MISSION_ACCOMPLISHED
TALKED -> REBECCA_EXIT*EXIT_IS_OPENED = WAITFOR -> TIMER:1 ? FREE_AND_BEFRIEND_ALICIA_CONDITIONNAL, FACING:DOWN, WAITFOR_TALK_MISSION_ACCOMPLISHED
$ -> FREE_AND_BEFRIEND_ALICIA_CONDITIONNAL = MEMORY -> ALICIA_FOLLOW_PLAYER ? AFFECTING:FREE_AND_BEFRIEND_ALICIA / NULL
$ -> WAITFOR_TALK_MISSION_ACCOMPLISHED = WAITFOR -> TIMER:2 ? TALK:REBECCA_EXIT*MISSION_ACCOMPLISHED
TALKED -> REBECCA_EXIT*MISSION_ACCOMPLISHED = AFFECTING -> PLAYER_OPENED_EXIT


//// ALICIA ROOM ////

! -> ALICIA_DISCOVER_HER_DESK_ROOM = SLOW -> 29-38
GOAL -> 29-38 = FACING -> RIGHT


//// LEFT AREA ////

! -> PUSHING_PLAYER_TO_LEFT = PUSH -> LEFT
! -> CREATE_BOMB = CREATE -> ONTHESPOT-BACK:2-1-255
! -> PLAYER_SIT_ON_TOILET = GOTO -> DISPLAY_TOILET, CONDITION:SIT, SOUND:JUMP, FACING:LEFT
! -> PLAYER_EXIT_TOILET = GOTO -> DISPLAY_NORMAL, CONDITION:GOOD, SOUND:TOILET_FLUSH
$ -> DISPLAY_TOILET = DISPLAY -> 15, -2
! -> PLAYER_DRINKING = CREATE_BONUSTEXT -> ONTHESPOT,NORMAL,SLURP
TALKED -> OBJECT*BOMB = FACING -> UP
TALKED -> OBJECT*BOMB_FAKING_TAKE = FACING -> UP
! -> TP_PLAYER_NEAR_ALICIA = GOTO -> FACING:LEFT, TP:30-34
! -> TP_PLAYER_NEAR_ALICIA_DOWN = GOTO -> FACING:UP, TP:26-39
! -> PLAYER_NOTICE_ALICIA_COLLAPSE = GOTO -> FACING:DOWN, EXPRESSION:EXCLAMATION, WAITFOR_MOVE_BEFORE_COLLAPSE
$ -> WAITFOR_MOVE_BEFORE_COLLAPSE = WAITFOR -> TIMER:1 ? MOVE:31-34
GOAL -> 31-34 = GOTO -> FACING:DOWN, WAITFOR_SUSPENSION_ALICIA_COLLAPSE_DESK
$ -> WAITFOR_SUSPENSION_ALICIA_COLLAPSE_DESK = WAITFOR -> TIMER:3 ? EXPRESSION:SUSPENSION, WAITFOR_TALK_ALICIA_COLLAPSE_DESK
$ -> WAITFOR_TALK_ALICIA_COLLAPSE_DESK = WAITFOR -> TIMER:2 ? TALK:ALICIA_SAS*ALICIA_COLLAPSE_DESK
! -> PLAYER_GET_PISSED_ON = WAITFOR -> TIMER:1 ? MEMORY:PLAYER_PISSED_ON, ACHIEVEMENT:GOLDENSHOWER, WAITFOR_PLAYER_GET_PISSED_ON_REACTION
$ -> WAITFOR_PLAYER_GET_PISSED_ON_REACTION = WAITFOR -> TIMER:3 ? EXPRESSION:SUSPENSION, WAITFOR_TALK_JEAN_SCOLDING_HARD
$ -> WAITFOR_TALK_JEAN_SCOLDING_HARD = WAITFOR -> TIMER:2 ? TALK:JEAN_PUSHED_SOMEONE*JEAN_SCOLDING_HARD
TALKED -> JEAN_PUSHED_SOMEONE*JEAN_SCOLDING_HARD = WAITFOR -> TIMER:4 ? TALK:JEAN_PUSHED_SOMEONE*REBECCA_MAD_ABOUT_GET_PISSED_ON
TALKED -> JEAN_PUSHED_SOMEONE*REBECCA_MAD_ABOUT_GET_PISSED_ON = GOTO -> CREATE_REBECCA_PEE_CHECKER, CUTSCENE:STOP
$ -> CREATE_REBECCA_PEE_CHECKER = GOTO -> CREATE_REBECCA_PEE_CHECKER_OBJECT, AFFECTING:OBJ-15*INIT_REBECCA_PEE_CHECKER
$ -> CREATE_REBECCA_PEE_CHECKER_OBJECT = CREATE -> 16-27-BACK:15-255-255
! -> REBECCA_WONT_EXIT_BATHROOM = TP -> 16-26
! -> PLAYER_HEADING_SINK = FACING -> RIGHT ? MOVE:16-25 / PARSE_PLAYER_HEADING_SINK_LEFT
$ -> PARSE_PLAYER_HEADING_SINK_LEFT = FACING -> LEFT ? MOVE:17-25 / PLAYER_WASHING
GOAL -> 16-25 = GOTO -> FACING:UP, PLAYER_WASHING
GOAL -> 17-25 = GOTO -> FACING:UP, PLAYER_WASHING
$ -> PLAYER_WASHING = GOTO -> DISPLAY_SINK, SOUND:WATER_SINK, WAITFOR_HEADING_DRYER
$ -> WAITFOR_HEADING_DRYER = WAITFOR -> TIMER:3 ? DISPLAY_NORMAL, MOVE:18-24
$ -> DISPLAY_SINK = DISPLAY -> 0, -14
$ -> DISPLAY_NORMAL = DISPLAY -> 0, 0
GOAL -> 18-24 = GOTO -> FACING:UP, SOUND:TOILET_HAND_DRYER, WAITFOR_PLAYER_STOP_WASHING
$ -> WAITFOR_PLAYER_STOP_WASHING = WAITFOR -> TIMER:3 ? FACING:DOWN, CUTSCENE:STOP, AFFECTING:ALICIA*PLAYER_NO_LONGER_USING_BATHROOM
TALKED -> JEAN_POST_BATHROOM*WORK = WAITFOR -> TIMER:5 ? AFFECTING:JEAN*JEAN_TA_WHATEVER
TALKED -> MARIE_ROMANCE*INVENTORY_BOMB = CREATE -> ONTHESPOT-FRONT:2-1-255
TALKED -> MARIE_ROMANCE*INVENTORY_BOMB_NEXT = GOTO -> CREATE_GEEN_BOMB, WAITFOR_SUSPENSION
$ -> CREATE_GEEN_BOMB = CREATE -> ONTHESPOT-FRONT:2-2-255
$ -> WAITFOR_SUSPENSION = WAITFOR -> TIMER:3 ? EXPRESSION:SUSPENSION
TALKED -> MARIE_ROMANCE*INVENTORY_INITIATIVE = GOTO -> CREATE_BOMB, PICKUP_TOOL, SOUND:LOOT, BONUS_TEXT_BOMB, DELETE_BOX
$ -> DELETE_BOX = DELETE  -> 12-36:WORLD,2
$ -> CREATE_BOMB = CREATE -> 1-0-BACK:2-1-255
$ -> PICKUP_TOOL = PICKUP -> 1-0:1
$ -> BONUS_TEXT_BOMB = CREATE_BONUSTEXT -> ONTHESPOT,NORMAL,CYAN_BOMB
TALKED -> ALICIA_SAS*COLLAPSE_DISCOVERED_UP = MEMORY -> SAS_FULLY_UNLOCKED ? TALK:ALICIA_SAS*COLLAPSE_ANYWAY / NULL
TALKED -> ALICIA_SAS*COLLAPSE_DISCOVERED_DOWN = MEMORY -> SAS_FULLY_UNLOCKED ? TALK:ALICIA_SAS*COLLAPSE_ANYWAY / NULL


//// BOMB PATH ////

! -> BOMBING_OWN_DESK_NO_ALICIA = UNLOCKEDTOOL -> KEY:GREEN ? MEMORY:BOMBING_OWN_DESK_NO_REASON, TALK:BOMBING*BOMBING_OWN_DESK_NO_REASON / TALK:BOMBING*BOMBING_OWN_DESK
WONPUZZLE -> 56-22 = GOTO -> CUTSCENE:START, TP:56-23
! -> ERIC_REACHED_HELP = MEMORY -> ERIC_RUN_WHILE_ALICIA_HERE ? NULL / PARSE_BOMBING_OWN_DESK_NO_REASON
$ -> PARSE_BOMBING_OWN_DESK_NO_REASON = MEMORY -> BOMBING_OWN_DESK_NO_REASON ? TALK:BOMBING*BOMBING_OWN_DESK_NO_REASON_ERIC_RAN / TALK:BOMBING*BOMBING_OWN_DESK_ERIC_RAN
TALKED -> BOMBING*BOMBING_OWN_DESK_NO_REASON_ERIC_RAN = GOTO -> FACING:UP, CUTSCENE:STOP
TALKED -> BOMBING*BOMBING_OWN_DESK_ERIC_RAN = GOTO -> MEMORY:BOMBING_IS_FUN, FACING:UP, CUTSCENE:STOP
TALKED -> ALICIA_BOMBING*ERIC_FREAKS_OUT_ALICIA_HERE = WAITFOR -> TIMER:2 ? MOVE:56-19
GOAL -> 56-19 = GOTO -> FACING:RIGHT
TALKED -> ALICIA_BOMBING_EVIL*PISSED_OFF_NEXT_NEXT = GOTO -> MUSIC:ABSOLUTE_EVILNESS, WAITFOR_TALK_ALICIA_I_AM_ADORABLE
$ -> WAITFOR_TALK_ALICIA_I_AM_ADORABLE = WAITFOR -> TIMER:2 ? TALK:ALICIA_BOMBING_EVIL*I_AM_ADORABLE
TALKED -> ALICIA_BOMBING_EVIL*I_AM_ADORABLE = SLOW -> 56-20
GOAL -> 56-20 = WAITFOR -> TIMER:2 ? PARSE_LAST_COLLAPSE
$ -> PARSE_LAST_COLLAPSE = MEMORY -> LAST_COLLAPSE ? WAITFOR_STOP_LAST_COLLAPSE_CUTSCENE / TALK:ALICIA_BOMBING_EVIL*I_WILL_HELP_YOU
$ -> WAITFOR_STOP_LAST_COLLAPSE_CUTSCENE = WAITFOR -> TIMER:1 ? EXPRESSION:SUSPENSION, CUTSCENE:STOP_WITH_DELAY
TALKED -> ALICIA_BOMBING_EVIL*I_WILL_HELP_YOU = GOTO -> MUSIC:NULL, WAITFOR_TALK_ALICIA_I_WILL_HELP_YOU_DEFINITIVELY
$ -> WAITFOR_TALK_ALICIA_I_WILL_HELP_YOU_DEFINITIVELY = WAITFOR -> TIMER:2 ? TALK:ALICIA_BOMBING_EVIL*I_WILL_HELP_YOU_DEFINITIVELY
TALKED -> ALICIA_BOMBING_EVIL*I_WILL_HELP_YOU_DEFINITIVELY = GOTO -> PSYCHOPATH_DEED, MEMORY:LAST_COLLAPSE, CREATE_KILLING_COLLAPSE, CREATE_KILLING_WALL, WAITFOR_PUSHING_ALICIA_TO_DEATH
$ -> PSYCHOPATH_DEED = GOTO -> GOOD_DEED:QUICK_DEATH, BAD_DEED:PLUG_THE_HOLE_POORLY
$ -> WAITFOR_PUSHING_ALICIA_TO_DEATH = GOTO -> AFFECTING:ALICIA_PUSHED_TO_DEATH, WAITFOR_STOP_KILLING_CUTSCENE
$ -> CREATE_KILLING_COLLAPSE = COLLAPSE -> DOWN,56-22,235-2
$ -> CREATE_LAST_COLLAPSE = COLLAPSE -> UP,56-22,235-2
$ -> CREATE_KILLING_WALL = CREATE -> 56-23-FRONT:255-255-255
$ -> CREATE_LAST_COLLAPSE_CONDITIONNAL = MEMORY -> LAST_COLLAPSE ? NULL / WAITFOR_CREATE_LAST_COLLAPSE
$ -> WAITFOR_CREATE_LAST_COLLAPSE = WAITFOR -> TIMER:1 ? MEMORY:LAST_COLLAPSE, CREATE_LAST_COLLAPSE, CREATE_LAST_COLLAPSE_CUTSCENE
$ -> WAITFOR_STOP_KILLING_CUTSCENE = WAITFOR -> TIMER:2 ? ACHIEVEMENT:FIRSTKILL, CUTSCENE:STOP_WITH_DELAY, CREATE_BLOOD_POOL
$ -> WAITFOR_CREATE_BLOOD_PULL = WAITFOR -> TIMER:1 ? CREATE_BLOOD_POOL
$ -> CREATE_BLOOD_POOL = CREATE_ANIMATION -> 56-22-FRONT:GROUND,1,2,ALICIA_BLOOD_POOL,80,FALSE
TALKED -> ALICIA_BOMBING*NOT_THAT_BAD = GOTO -> MEMORY:LAST_COLLAPSE, CREATE_KILLING_COLLAPSE, WAITFOR_COLLAPSE_REACION
TALKED -> ALICIA_BOMBING*I_HAD_NO_CHOICE = GOTO -> MEMORY:LAST_COLLAPSE, CREATE_KILLING_COLLAPSE, WAITFOR_COLLAPSE_REACION
$ -> WAITFOR_COLLAPSE_REACION  = WAITFOR -> TIMER:1 ? FACING:DOWN, EXPRESSION:EXCLAMATION, WAITFOR_COLLAPSE_POST_REACTION
$ -> WAITFOR_COLLAPSE_POST_REACTION = WAITFOR -> TIMER:3 ? EXPRESSION:SUSPENSION, CUTSCENE:STOP_WITH_DELAY
WONPUZZLE -> 57-12 = MEMORY -> BOMBING_IS_FUN ? TALK:BOMBING*BOMBING_IS_FUN, CREATE_LAST_COLLAPSE_CONDITIONNAL / CREATE_LAST_COLLAPSE_CONDITIONNAL
TALKED -> BOMBING*BOMBING_IS_FUN = FACING -> UP
$ -> CREATE_LAST_COLLAPSE_CUTSCENE = GOTO -> CUTSCENE:START, FACING:DOWN, EXPRESSION:EXCLAMATION, WAITFOR_FAST_CHECK_LAST_COLLAPSE
$ -> WAITFOR_FAST_CHECK_LAST_COLLAPSE = WAITFOR -> TIMER:1 ? FAST:56-20

! -> PREVENT_BOMB_PATH_SOFTLOCK_CUTSCENE = GOTO -> CUTSCENE:START, EXPRESSION:SUSPENSION, WAITFOR_GO_TAKE_KEY_TO_PREVENT_SOFLOCK
$ -> WAITFOR_GO_TAKE_KEY_TO_PREVENT_SOFLOCK = WAITFOR -> TIMER:2 ? MOVE:59-19
GOAL -> 59-19 = WAITFOR -> TIMER:1 ? TALK:REBECCA_EXIT*TAKING_KEY_TO_PREVENT_SOFTLOCK
TALKED -> REBECCA_EXIT*TAKING_KEY_TO_PREVENT_SOFTLOCK = GOTO -> CUTSCENE:STOP
! -> PREVENT_BOMB_PATH_SOFTLOCK_CUTSCENE_WITH_ALICIA = SLOW -> 56-24
GOAL -> 56-24 = GOTO -> FACING:UP, WAITFOR_BOMB_PATH_SOFTLOCK_CUTSCENE_WITH_ALICIA_NEXT
$ -> WAITFOR_BOMB_PATH_SOFTLOCK_CUTSCENE_WITH_ALICIA_NEXT = WAITFOR -> TIMER:1 ? EXPRESSION:SUSPENSION, WAITFOR_TALK_ALICIA_GREEN_KEY_SOFTLOCK
$ -> WAITFOR_TALK_ALICIA_GREEN_KEY_SOFTLOCK = WAITFOR -> TIMER:2 ? TALK:ALICIA_BOMBING*ALICIA_GREEN_KEY_SOFTLOCK


//// EXIT UP ////

! -> EXPLODE_BOMBABLE_RUBBLE = GOTO -> CAMERA:FIX, CUTSCENE:START, WAITFOR_TALK_EXIT_UP_OPENED
$ -> WAITFOR_TALK_EXIT_UP_OPENED = WAITFOR -> TIMER:1 ? TALK:REBECCA_EXIT*EXIT_UP_OPENED
TALKED -> REBECCA_EXIT*EXIT_UP_OPENED = GOTO -> PARSE_SADISTIC_REBECCA
GOAL -> 50-9 = GOTO -> TP:20-60, MOVE:26-60, CAMERA:PLAYER_FLUID
GOAL -> 26-60 = GOTO -> FACING:UP, CREATE_PLAYER_LEAVING_CHECKER_HANDLER, CUTSCENE:STOP
$ -> CREATE_PLAYER_LEAVING_CHECKER_HANDLER = GOTO -> CREATE_PLAYER_LEAVING_CHECKER, AFFECTING:OBJ-30*INIT_PLAYER_LEAVING_CHECKER_ENTRANCE
$ -> CREATE_PLAYER_LEAVING_CHECKER = CREATE -> 26-59-BACK:30-255-255
! -> CHOICE_ABANDON_EVERYONE = GOTO -> BAD_DEED:ABANDON_EVERYONE, TALK:REBECCA_EXIT*PLAYER_LEAVING_NEXT
! -> CHOICE_COME_BACK = MEMORY -> RECEPTION_IS_OPENED ? SLOW:41-41 / SLOW:26-60


//// EXIT RIGHT ////

WONPUZZLE -> 41-42 = MEMORY -> SAS_FULLY_UNLOCKED ? CUTSCENE:START, WAITFOR_TALK_EXIT_IS_OPENED / TALK:REBECCA_EXIT*RECEPTION_IS_OPENED
$ -> WAITFOR_TALK_EXIT_IS_OPENED = WAITFOR -> TIMER:1 ? TALK:REBECCA_EXIT*EXIT_IS_OPENED
TALKED -> REBECCA_EXIT*RECEPTION_IS_OPENED = GOTO -> MEMORY:RECEPTION_IS_OPENED, PARSE_SADISTIC_REBECCA
$ -> PARSE_SADISTIC_REBECCA = MEMORY -> SADISTIC_REBECCA ? BAD_DEED:ABANDON_EVERYONE, TALK:REBECCA_EXIT*IS_OPENED_SADISTIC / PARSE_RECEPTION_IS_OPENED
$ -> PARSE_RECEPTION_IS_OPENED = MEMORY -> RECEPTION_IS_OPENED ? CREATE_PLAYER_LEAVING_CHECKER_HANDLER_RECEPTION / MOVE:50-9
$ -> CREATE_PLAYER_LEAVING_CHECKER_HANDLER_RECEPTION = GOTO -> CREATE_PLAYER_LEAVING_CHECKER_RECEPTION, AFFECTING:OBJ-30*INIT_PLAYER_LEAVING_CHECKER_RECEPTION
$ -> CREATE_PLAYER_LEAVING_CHECKER_RECEPTION = CREATE -> 41-43-BACK:30-255-255
GOAL -> 41-41 = GOTO -> CREATE_PLAYER_LEAVING_CHECKER_HANDLER_RECEPTION, CUTSCENE:STOP
TALKED -> REBECCA_EXIT*IS_OPENED_SADISTIC = MEMORY -> ALICIA_FOLLOW_PLAYER ? PARSE_ALICIA_NO_LONGER_FOLLOW_PLAYER / AFFECTING:PLAYER_OPENED_EXIT
$ -> PARSE_ALICIA_NO_LONGER_FOLLOW_PLAYER = MEMORY -> EXPLODE_BOMBABLE_RUBBLE ? AFFECTING:PLAYER_OPENED_EXIT / TALK:REBECCA_EXIT*ALICIA_REACTION_PLAYER_LEAVING_NEXT