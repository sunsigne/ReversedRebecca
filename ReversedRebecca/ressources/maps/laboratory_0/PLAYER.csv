TIME -> 0 = GOTO -> NAME:REBECCA, FACING:UP


//// REBECCAS DESK ////

! -> TP_PLAYER_OUT_OF_SIGHT = GOTO -> BLOCKING_PATH:TRUE, TP:25-65
! -> TP_PLAYER_TO_CHOICE_ABOUT_IGNORING_DOOR = GOTO -> TP:21-54, BLOCKING_PATH:TRUE
! -> MOVE_PLAYER_IN_FRONT_OF_MIKA = MOVE -> 26-56
GOAL -> 26-56 = FACING -> DOWN
! -> MOVE_PLAYER_BESIDE_MIKA = FACING -> LEFT ? NULL / MOVE:25-57
GOAL -> 25-57 = FACING -> RIGHT
! -> TP_PLAYER_LEFT_KISS = TP -> 25-57
! -> TP_PLAYER_RIGHT_KISS = TP -> 27-57


//// VLADIMIR CUTSCENE ////

! -> VLADIMIR_ARRIVAL = GOTO -> TP:23-53, FACING:RIGHT, EXPRESSION:EXCLAMATION
TALKED -> MIKA_DAMN_IT = SLOW -> 27-55
GOAL -> 27-55 = WAITFOR -> TIMER:1 ? CAMERA:PLAYER_FLUID 
TALKED -> MIKA_WHAT_HAPPENED = GOTO -> AFFECTING:MUSIC_LABORATORY, TALK:MIKA_WHAT_HAPPENED_NEXT
TALKED -> MIKA_WHAT_HAPPENED_NEXT = GOTO -> FACING_PLAYER:LEFT, TALK:MIKA_WHAT_HAPPENED_NEXT_NEXT
TALKED -> MIKA_WHAT_HAPPENED_NEXT_NEXT = GOTO -> FACING:LEFT, CHOICE_INVESTIGATION_WITH_SARAH
$ -> CHOICE_INVESTIGATION_WITH_SARAH = CHOICE -> FIND_AN_EXIT*CHOOSING_FIND_AN_EXIT, INVASTIGATE_THE_INTRUDER*CHOOSING_INVASTIGATE_THE_INTRUDER


//// SARAH CYAN KEY DESK CUTSCENE //// 

! -> SARAH_CYAN_KEY_DESK_CUTSCENE = GOTO -> MOVE:22-44
GOAL -> 22-44 = GOTO -> FACING:RIGHT
TALKED -> SARAH_REBECCA_HELP_FOR_KEYS = CHOICE -> YES*CYAN_KEY_I_SAW_IT_WHEN_I_ENTERED, LIE_NO*CYAN_KEY_THERE_IS_NO_KEY_HERE
TALKED -> SARAH_REBECCA_HELP_FOR_KEYS_ALICIA = CHOICE -> YES*CYAN_KEY_I_SAW_IT_WHEN_I_ENTERED, LIE_NO*CYAN_KEY_THERE_IS_NO_KEY_HERE
! -> CYAN_KEY_THERE_IS_NO_KEY_HERE = TALK -> SARAH_REBECCA_NO_KEYS
! -> CYAN_KEY_I_SAW_IT_WHEN_I_ENTERED = TALK -> SARAH_REBECCA_WAIT_HERE_FOR_KEYS
TALKED -> SARAH_REBECCA_WAIT_HERE_FOR_KEYS = MOVE -> 20-42
GOAL -> 20-42 = GOTO -> FACING:RIGHT, WAITFOR_TAKING_KEY_FOR_SARAH
$ -> WAITFOR_TAKING_KEY_FOR_SARAH = WAITFOR -> TIMER:1 ? SOUND:KEYS, WAITFOR_BRINGING_KEY_TO_SARAH
$ -> WAITFOR_BRINGING_KEY_TO_SARAH = WAITFOR -> TIMER:1 ? MOVE:23-44
GOAL -> 23-44 = WAITFOR -> TIMER:1 ? SOUND:KEYS, WAITFOR_GIVING_KEY_TO_SARAH
$ -> WAITFOR_GIVING_KEY_TO_SARAH = WAITFOR -> TIMER:1 ? TALK:SARAH_REBECCA_GIVING_KEYS
TALKED -> SARAH_REBECCA_NO_KEYS = CUTSCENE -> STOP
TALKED -> SARAH_REBECCA_GIVING_KEYS = CUTSCENE -> STOP


//// MIKA EXIT AREA ////

TALKED -> MIKA_BOMB = WAITFOR -> TIMER:2 ? SLOW:26-57
GOAL -> 26-57 = GOTO -> FACING:DOWN, BOMB_MIKA_RUBBLE
$ -> BOMB_MIKA_RUBBLE = OPEN_PUZZLE -> 26-58,1
WONPUZZLE -> 26-58 = TALK -> EXIT_IS_OPENED
TALKED -> EXIT_IS_OPENED = WAITFOR -> TIMER:1 ? FACING:DOWN, WAITFOR_TALK_MISSION_ACCOMPLISHED
$ -> WAITFOR_TALK_MISSION_ACCOMPLISHED = WAITFOR -> TIMER:2 ? TALK:MISSION_ACCOMPLISHED
TALKED -> MISSION_ACCOMPLISHED = AFFECTING -> PLAYER_OPENED_EXIT


//// LEFT AREA ////

TALKED -> BOMB = FACING -> UP
TALKED -> BOMB_FAKING_TAKE = FACING -> UP
! -> TP_PLAYER_NEAR_ALICIA = GOTO -> FACING:LEFT, TP:30-34
! -> TP_PLAYER_NEAR_ALICIA_DOWN = GOTO -> FACING:UP, TP:26-39
! -> PLAYER_NOTICE_ALICIA_LANDSLIDE = GOTO -> FACING:DOWN, EXPRESSION:EXCLAMATION, WAITFOR_MOVE_BEFORE_LANDSLIDE
$ -> WAITFOR_MOVE_BEFORE_LANDSLIDE = WAITFOR -> TIMER:1 ? MOVE:31-34
GOAL -> 31-34 = GOTO -> FACING:DOWN, WAITFOR_SUSPENSION_ALICIA_LANDSLIDE_DESK
$ -> WAITFOR_SUSPENSION_ALICIA_LANDSLIDE_DESK = WAITFOR -> TIMER:3 ? EXPRESSION:SUSPENSION, WAITFOR_TALK_ALICIA_LANDSLIDE_DESK
$ -> WAITFOR_TALK_ALICIA_LANDSLIDE_DESK = WAITFOR -> TIMER:2 ? TALK:ALICIA_LANDSLIDE_DESK
! -> PLAYER_GET_PISSED_ON = WAITFOR -> TIMER:3 ? EXPRESSION:SUSPENSION, WAITFOR_TALK_JEAN_SCOLDING_HARD
$ -> WAITFOR_TALK_JEAN_SCOLDING_HARD = WAITFOR -> TIMER:2 ? TALK:JEAN_SCOLDING_HARD
TALKED -> JEAN_SCOLDING_HARD = WAITFOR -> TIMER:4 ? TALK:REBECCA_MAD_ABOUT_GET_PISSED_ON
TALKED -> REBECCA_MAD_ABOUT_GET_PISSED_ON = GOTO -> CREATE_REBECCA_PEE_CHECKER, CUTSCENE:STOP
$ -> CREATE_REBECCA_PEE_CHECKER = GOTO -> CREATE_REBECCA_PEE_CHECKER_OBJECT, AFFECTING:OBJ-45*INIT_REBECCA_PEE_CHECKER
$ -> CREATE_REBECCA_PEE_CHECKER_OBJECT = CREATE -> 16-27-BACK:45-255-255
TALKED -> REBECCA_WONT_EXIT_BATHROOM = TP -> 16-26
! -> PLAYER_HEADING_SINK = FACING -> RIGHT ? MOVE:16-25 / PARSE_PLAYER_HEADING_SINK_LEFT
$ -> PARSE_PLAYER_HEADING_SINK_LEFT = FACING -> LEFT ? MOVE:17-25 / PLAYER_WASHING
GOAL -> 16-25 = GOTO -> FACING:UP, PLAYER_WASHING
GOAL -> 17-25 = GOTO -> FACING:UP, PLAYER_WASHING
$ -> PLAYER_WASHING = GOTO -> DISPLAY_SINK, SOUND:WATER_SINK, WAITFOR_HEADING_DRYER
$ -> WAITFOR_HEADING_DRYER = WAITFOR -> TIMER:3 ? DISPLAY_NORMAL, MOVE:18-24
$ -> DISPLAY_SINK = DISPLAY -> 0, -14
$ -> DISPLAY_NORMAL = DISPLAY -> 0, 0
GOAL -> 18-24 = GOTO -> SOUND:TOILET_HAND_DRYER, WAITFOR_PLAYER_STOP_WASHING
$ -> WAITFOR_PLAYER_STOP_WASHING = WAITFOR -> TIMER:3 ? FACING:DOWN, CUTSCENE:STOP


//// BOMB PATH ////

! -> BOMBING_OWN_DESK_NO_ALICIA = UNLOCKEDTOOL -> KEY:GREEN ? MEMORY:BOMBING_OWN_DESK_NO_REASON, TALK:BOMBING_OWN_DESK_NO_REASON / TALK:BOMBING_OWN_DESK
WONPUZZLE -> 56-22 = GOTO -> CUTSCENE:START, TP:56-23
! -> ERIC_REACHED_HELP = MEMORY -> ERIC_RUN_WHILE_ALICIA_HERE ? NULL / PARSE_BOMBING_OWN_DESK_NO_REASON
$ -> PARSE_BOMBING_OWN_DESK_NO_REASON = MEMORY -> BOMBING_OWN_DESK_NO_REASON ? TALK:BOMBING_OWN_DESK_NO_REASON_ERIC_RAN / TALK:BOMBING_OWN_DESK_ERIC_RAN
TALKED -> BOMBING_OWN_DESK_NO_REASON_ERIC_RAN = GOTO -> FACING:UP, CUTSCENE:STOP
TALKED -> BOMBING_OWN_DESK_ERIC_RAN = GOTO -> MEMORY:BOMBING_IS_FUN, FACING:UP, CUTSCENE:STOP
TALKED -> ERIC_FREAKS_OUT_ALICIA_HERE = WAITFOR -> TIMER:2 ? MOVE:56-19
GOAL -> 56-19 = GOTO -> FACING:RIGHT
TALKED -> ALICIA_PISSED_OFF_NEXT = GOTO -> MUSIC:ABSOLUTE_EVILNESS, WAITFOR_TALK_ALICIA_I_AM_ADORABLE
$ -> WAITFOR_TALK_ALICIA_I_AM_ADORABLE = WAITFOR -> TIMER:2 ? TALK:ALICIA_I_AM_ADORABLE
TALKED -> ALICIA_I_AM_ADORABLE = SLOW -> 56-20
GOAL -> 56-20 = WAITFOR -> TIMER:2 ? TALK:ALICIA_I_WILL_HELP_YOU
TALKED -> ALICIA_I_WILL_HELP_YOU = GOTO -> MUSIC:NULL, WAITFOR_TALK_ALICIA_I_WILL_HELP_YOU_DEFINITIVELY
$ -> WAITFOR_TALK_ALICIA_I_WILL_HELP_YOU_DEFINITIVELY = WAITFOR -> TIMER:2 ? TALK:ALICIA_I_WILL_HELP_YOU_DEFINITIVELY
TALKED -> ALICIA_I_WILL_HELP_YOU_DEFINITIVELY = GOTO -> MEMORY:LAST_LANDSLIDE, CREATE_KILLING_LANDSLIDE, CREATE_KILLING_WALL, WAITFOR_PUSHING_ALICIA_TO_DEATH
$ -> WAITFOR_PUSHING_ALICIA_TO_DEATH = WAITFOR -> TIMER:1 ? AFFECTING:ALICIA_PUSHED_TO_DEATH, WAITFOR_STOP_KILLING_CUTSCENE
$ -> CREATE_KILLING_LANDSLIDE = LANDSLIDE -> DOWN,56-22,235-2
$ -> CREATE_LAST_LANDSLIDE = LANDSLIDE -> UP,56-22,235-2
$ -> CREATE_KILLING_WALL = CREATE -> 56-23-FRONT:255-255-255
$ -> CREATE_LAST_LANDSLIDE_CONDITIONNAL = MEMORY -> LAST_LANDSLIDE ? NULL / MEMORY:LAST_LANDSLIDE, CREATE_LAST_LANDSLIDE
$ -> WAITFOR_STOP_KILLING_CUTSCENE = WAITFOR -> TIMER:1 ? ACHIEVEMENT:FIRSTKILL, CUTSCENE:STOP_WITH_DELAY, CREATE_BLOOD_POOL
$ -> WAITFOR_CREATE_BLOOD_PULL = WAITFOR -> TIMER:1 ? CREATE_BLOOD_POOL
$ -> CREATE_BLOOD_POOL = CREATE_ANIMATION -> 56-22-FRONT:GROUND,1,2,ALICIA_BLOOD_POOL,3,80,FALSE
TALKED -> REBECCA_NOT_THAT_BAD = GOTO -> MEMORY:LAST_LANDSLIDE, CREATE_KILLING_LANDSLIDE, WAITFOR_LANDSLIDE_REACION
TALKED -> REBECCA_I_HAD_NO_CHOICE = GOTO -> MEMORY:LAST_LANDSLIDE, CREATE_KILLING_LANDSLIDE, WAITFOR_LANDSLIDE_REACION
$ -> WAITFOR_LANDSLIDE_REACION  = WAITFOR -> TIMER:1 ? FACING:DOWN, EXPRESSION:EXCLAMATION, WAITFOR_LANDSLIDE_POST_REACTION
$ -> WAITFOR_LANDSLIDE_POST_REACTION = WAITFOR -> TIMER:3 ? EXPRESSION:SUSPENSION, CUTSCENE:STOP_WITH_DELAY
WONPUZZLE -> 57-12 = MEMORY -> BOMBING_IS_FUN ? TALK:BOMBING_IS_FUN, CREATE_LAST_LANDSLIDE_CONDITIONNAL / CREATE_LAST_LANDSLIDE_CONDITIONNAL
TALKED -> BOMBING_IS_FUN = FACING -> UP