TIME -> 0 = GOTO -> NAME:ALICIA, MOVE:26-34, TURN_DOOR_INTO_SPEAKABLE


//// STATE ////

GOAL -> 26-34 = GOTO -> FACING:DOWN, PARSE_ALICIA_IS_HAPPY
$ -> PARSE_ALICIA_IS_HAPPY = MEMORY -> ALICIA_IS_HAPPY ? CONDTION:GOOD, WAITING_HAPPILY_IN_AIRLOCK_START, MEMORY:ALICIA_NO_LONGER_CRYING / CONDITION:CRY
$ -> WAITFOR_NULL = WAITFOR -> NULL
! -> ALICIA_PUSHED_TO_DEATH = GOTO -> PUSH:DOWN, DISPLAY_DOWNER
$ -> DISPLAY_DOWNER = DISPLAY -> 0, 6
! -> TP_TO_PLAYER = PLAYER_FUTHER_THAN -> 4 ? CENTER_PLAYER:PROCESS, TP:PLAYER, MOVE:STOP, FACING:PLAYER / NULL
$ -> SIT_ON_COUCH = GOTO -> HITBOX_COUCH, FACING:DOWN, CONDITION:SIT, DISPLAY_COUCH, SOUND_IF_CAMERA:JUMP, AFFECTING:OBJ-68*BLOCKING_HORIZONTAL_COUCH_FALSE, TP:11-29
$ -> DISPLAY_COUCH = DISPLAY -> 0, 1
$ -> HITBOX_NORMAL = HITBOX -> 0, 0, 16, 16
$ -> HITBOX_COUCH = HITBOX -> 0, 2, 16, 17


//// SPEAKABLE DOOR ////

$ -> TURN_DOOR_INTO_SPEAKABLE = GOTO -> CREATE_SPEAKABLE_DOOR, AFFECTING:OBJ-23*SPEAKABLE_DOOR_INIT
$ -> CREATE_SPEAKABLE_DOOR = CREATE -> 26-36-BACK:23-255-255
! -> ALICIA_KNOCK = GOTO -> SOUND:DOOR_KNOCK, CREATE_BONUSTEXT_KNOCK, CUTSCENE:START, WAITFOR_ALICIA_KNOW_REALISATION
$ -> CREATE_BONUSTEXT_KNOCK = CREATE_BONUSTEXT -> 26-36,NORMAL,KNOCK
$ -> WAITFOR_ALICIA_KNOW_REALISATION = WAITFOR -> TIMER:1 ? CONDITION:GOOD, EXPRESSION:EXCLAMATION, WAITFOR_MOVE_TO_DOOR
$ -> WAITFOR_MOVE_TO_DOOR = WAITFOR -> TIMER:1 ? MOVE:26-35

GOAL -> 26-35 = MEMORY -> ALICIA_ASKED_FOR_OPENING_GREEN_DOWN_SAS_DOOR ? ALICIA_ASKED_FOR_OPENING_GREEN_DOWN_SAS_DOOR / PARSE_MIKA_REACHED_AIRLOCK_TO_UNLOCK_ALICIA
$ -> PARSE_MIKA_REACHED_AIRLOCK_TO_UNLOCK_ALICIA = MEMORY -> MIKA_REACHED_AIRLOCK_TO_UNLOCK_ALICIA ? AFFECTING:MIKA*ALICIA_TALKING_TO_MIKA_WHO_WILL_BREAK_DOOR, WAITFOR_MOVING_AWAY_BREAK_DONW_DOOR / PARSE_REBECCA_IS_SADISTIC_ABOUT_ALICIA
$ -> PARSE_REBECCA_IS_SADISTIC_ABOUT_ALICIA = MEMORY -> REBECCA_IS_SADISTIC_ABOUT_ALICIA ? TALK:ALICIA_LOCKED_SADISTIC / PARSE_ALICIA_KNOCK_SENARIO
$ -> PARSE_ALICIA_KNOCK_SENARIO = MEMORY -> SCENARIO_INQUIRY ? TALK:ALICIA_LOCKED_INQUIRY / TALK:ALICIA_LOCKED_EXIT
TALKED -> ALICIA_LOCKED_SADISTIC = GOTO -> CUTSCENE:STOP, SLOW:26-34
TALKED -> ALICIA_LOCKED_INQUIRY = GOTO -> CUTSCENE:STOP, MEMORY:ALICIA_IS_HAPPY, AFFECTING:ALICIA_LOCKED_IN_AIRLOCK_SEARCHING_HELP, MEMORY:ALICIA_LOCKED_IN_AIRLOCK_SEARCHING_HELP, SLOW:26-34
TALKED -> ALICIA_LOCKED_EXIT = GOTO -> CUTSCENE:STOP, MEMORY:ALICIA_IS_HAPPY, SLOW:26-34
$ -> WAITING_HAPPILY_IN_AIRLOCK_START = WAITFOR -> TIMER:5 ? RAD_FACING, WAITING_HAPPILY_IN_AIRLOCK_STEP_ONE
$ -> RAD_FACING = RANDOM -> PERCENTAGE:50 ? FACING:LEFT / FACING:UP
$ -> WAITING_HAPPILY_IN_AIRLOCK_STEP_ONE = WAITFOR -> TIMER:2 ? FACING:DOWN, WAITING_HAPPILY_IN_AIRLOCK_STEP_TWO
$ -> WAITING_HAPPILY_IN_AIRLOCK_STEP_TWO = WAITFOR -> TIMER:4 ? FACING:RIGHT, WAITING_HAPPILY_IN_AIRLOCK_STEP_THREE
$ -> WAITING_HAPPILY_IN_AIRLOCK_STEP_THREE = WAITFOR -> TIMER:2 ? SLOW:27-34, WAITING_HAPPILY_IN_AIRLOCK_STEP_FOUR
$ -> WAITING_HAPPILY_IN_AIRLOCK_STEP_FOUR = WAITFOR -> TIMER:6 ? SLOW:26-34
! -> MIKA_REACHED_AIRLOCK_TO_UNLOCK_ALICIA = GOTO -> WAITFOR_NULL, SLOW:26-35
$ -> WAITFOR_MOVING_AWAY_BREAK_DONW_DOOR = WAITFOR -> TIMER:4 ? MOVE:25-33
GOAL -> 25-33 = FACING -> DOWN


//// AIRLOCK DOWN ////

WONPUZZLE -> 26-36 = GOTO -> ALICIA_NORMAL_CUTSCENE_CONDITIONNAL
$ -> ALICIA_NORMAL_CUTSCENE_CONDITIONNAL = MEMORY -> ALICIA_FREED_FROM_SAS ? TALK_SAS_FULLY_UNLOCKED_CONDITIONNAL / ALICIA_NORMAL_CUTSCENE
$ -> ALICIA_NORMAL_CUTSCENE = GOTO -> MEMORY:ALICIA_FREED_FROM_SAS, CUTSCENE:START, CAMERA:FIX, ALICIA_NORMAL_CUTSCENE_UPDATE_OBJECTS, WAITFOR_ALICIA_NORMAL_CUTSCENE
$ -> ALICIA_NORMAL_CUTSCENE_UPDATE_OBJECTS = GOTO -> DELETE_DOWN_DOOR
$ -> WAITFOR_ALICIA_NORMAL_CUTSCENE = WAITFOR -> TIMER:1 ? CONDITION:GOOD, FACING:DOWN, EXPRESSION:EXCLAMATION, WAITFOR_RUNNING_TO_HUG_REBECCA_DOWN
$ -> WAITFOR_RUNNING_TO_HUG_REBECCA_DOWN = WAITFOR -> TIMER:1 ? FAST:26-36
GOAL -> 26-36 = GOTO -> SOUND:HIT_SMALL, CREATE_HUG_ANIMATION_DOWN, AFFECTING:PLAYER*TP_PLAYER_OUT_OF_SIGHT, TP:25-70, WAITFOR_TALK_HUG_DOWN
$ -> CREATE_HUG_ANIMATION_DOWN = CREATE_ANIMATION -> 26-36-BACK:WORLD,1,4,ALICIA_HUG_DOWN_REBECCA,5,2,FALSE
$ -> CREATE_DOWN_DOOR = CREATE -> 26-36-FRONT:1-235-0
$ -> DELETE_DOWN_DOOR = DELETE -> 26-36:WORLD,1
$ -> WAITFOR_TALK_HUG_DOWN = WAITFOR -> TIMER:3 ? MEMORY:ALICIA_HUG_DOWN, TALK:ALICIA_HUG
TALKED -> ALICIA_HUG = MEMORY -> ALICIA_HUG_DOWN ? TALKED_ALICIA_HUG_DOWN / TALKED_ALICIA_HUG
$ -> TALKED_ALICIA_HUG_DOWN = GOTO -> FACING:DOWN, TP:26-38, AFFECTING:PLAYER*TP_PLAYER_NEAR_ALICIA_DOWN, DELETE_DOWN_DOOR, SOUND:JUMP, WAITFOR_TALK_PICK_ME_UP
$ -> WAITFOR_TALK_PICK_ME_UP = WAITFOR -> TIMER:2 ? TALK:ALICIA_PICK_ME_UP
TALKED -> ALICIA_PICK_ME_UP = CHOICE -> COFFEE*ALICIA_ASK_COFFEE, TEA*ALICIA_ASK_TEA, NO_THANKS*ALICIA_NO_THANKS
! -> ALICIA_ASK_COFFEE = GOTO -> MEMORY:ALICIA_ASKED_DRINK, MEMORY:ALICIA_ASKED_COFFEE, TALK:ALICIA_ASK_DRINK
! -> ALICIA_ASK_TEA = GOTO -> MEMORY:ALICIA_ASKED_DRINK, MEMORY:ALICIA_ASKED_TEA, TALK:ALICIA_ASK_DRINK
! -> ALICIA_NO_THANKS = TALK -> ALICIA_NO_THANKS
TALKED -> ALICIA_ASK_DRINK = GOTO -> PLAYER_AVOIDER_TYPE:STOP, SLOW:8-29, CREATE_DOWN_DOOR, STOP_ALICIA_CUTSCENE
TALKED -> ALICIA_NO_THANKS = GOTO -> PLAYER_AVOIDER_TYPE:STOP, SLOW:8-29, CREATE_DOWN_DOOR, STOP_ALICIA_CUTSCENE
$ -> STOP_ALICIA_CUTSCENE = GOTO -> CUTSCENE:STOP, CAMERA:PLAYER_FLUID
GOAL -> 8-29 = GOTO -> PLAYER_AVOIDER_TYPE:AROUND_OMNISCIENT, SLOW:7-29
GOAL -> 7-29 = GOTO -> FACING:UP, SOUND_IF_CAMERA:COFFEE_MACHINE, WAITFOR_HEADING_COUCH
$ -> WAITFOR_HEADING_COUCH = WAITFOR -> TIMER:5 ? CONDITION:CUP, HEADING_COUCH
$ -> HEADING_COUCH = SLOW -> 11-30
GOAL -> 11-30 = GOTO -> SIT_ON_COUCH, DROP_ALICIAS_CUP_ON_TABLE, DROP_PLAYERS_CUP_ON_TABLE_CONDITIONNAL, TA_ALICIA_COUCH, AFFECTING:OBJ-28*TA_DRINK_CUP, WAITFOR_DRINK_COFFEE
$ -> DROP_PLAYERS_CUP_ON_TABLE_CONDITIONNAL = MEMORY -> ALICIA_ASKED_DRINK ? DROP_PLAYERS_CUP_ON_TABLE / NULL
$ -> DROP_ALICIAS_CUP_ON_TABLE = CREATE_DECORATION -> 11-31-FRONT:WORLD,1,1,CUP_00
$ -> DROP_PLAYERS_CUP_ON_TABLE = CREATE_DECORATION -> 11-31-FRONT:WORLD,1,1,CUP_01
$ -> WAITFOR_DRINK_COFFEE = WAITFOR -> TIMER:40 ? SOUND_IF_CAMERA:DRINK_JUICE, DELETE_CUP, AFFECTING:OBJ-28*ALICIA_DRANK_ITS_COFFEE
$ -> DELETE_CUP = DELETE -> 11-31:WORLD,2
$ -> TA_ALICIA_COUCH = TRIPLE_ACTION -> TALK*ALICIA_COUCH
TALKED -> ALICIA_COUCH = ACTION_ONE -> TALK*ALICIA_COUCH_NEXT
TALKED -> ALICIA_COUCH_NEXT = ACTION_ONE -> TALK*ALICIA_COUCH_LAST
TALKED -> ALICIA_DRINK_WAS_MINE = GOTO -> DISABLE_ONTHESPOT:2, WAITFOR_NULL, FACING_PLAYER:ALICIA, CHOICE_APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE
$ -> CHOICE_APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE = CHOICE -> APOLOGIZE*APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE, SAY_NOTHING*NOT_APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE
! -> APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE = GOTO -> ENABLE_ONTHESPOT:2, TALK:ALICIA_DRINK_WAS_MINE_APOLOGIZE
! -> NOT_APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE = GOTO -> ENABLE_ONTHESPOT:2, ACTION_ONE:TALK*ALICIA_DRINK_WAS_MINE_NEXT

$ -> TALK_SAS_FULLY_UNLOCKED_CONDITIONNAL = MEMORY -> RECEPTION_IS_OPENED ? CUTSCENE:START, WAITFOR_TALK_EXIT_IS_OPENED / TALK:SAS_FULLY_UNLOCKED
TALKED -> SAS_FULLY_UNLOCKED = MEMORY -> SAS_FULLY_UNLOCKED
$ -> WAITFOR_TALK_EXIT_IS_OPENED = WAITFOR -> TIMER:1 ? TALK:EXIT_IS_OPENED_VAR


//// AIRLOCK RIGHT ////

WONPUZZLE -> 28-34 = GOTO -> ALICIA_LANDSLIDE_CUTSCENE_CONDITIONNAL, CREATE_BLOCKED_ERIC_DESK_CONDITIONNAL
$ -> ALICIA_LANDSLIDE_CUTSCENE_CONDITIONNAL = MEMORY -> ALICIA_FREED_FROM_SAS ? MEMORY:SAS_FULLY_UNLOCKED / ALICIA_LANDSLIDE_CUTSCENE
$ -> ALICIA_LANDSLIDE_CUTSCENE = GOTO -> MEMORY:ALICIA_FREED_FROM_SAS, CUTSCENE:START, CAMERA:FIX, ALICIA_LANDSLIDE_CUTSCENE_UPDATE_OBJECTS, WAITFOR_ALICIA_LANDSLIDE_CUTSCENE
$ -> ALICIA_LANDSLIDE_CUTSCENE_UPDATE_OBJECTS = GOTO -> AFFECTING:OBJ-42*ALICIA_LANDSLIDE_WAITFOR_NULL, AFFECTING:ALICIA_RUBBLE_CHECKERS_DELETE, AFFECTING:OBJ-23*DELETE_SPEAKABLE_DOOR, DELETE_DOOR
$ -> WAITFOR_ALICIA_LANDSLIDE_CUTSCENE = WAITFOR -> TIMER:1 ? CONDITION:GOOD, FACING:RIGHT, EXPRESSION:EXCLAMATION, WAITFOR_RUNNING_TO_HUG_REBECCA
$ -> WAITFOR_RUNNING_TO_HUG_REBECCA = WAITFOR -> TIMER:1 ? FAST:28-34
GOAL -> 28-34 = GOTO -> SOUND:HIT_SMALL, CREATE_HUG_ANIMATION, AFFECTING:PLAYER*TP_PLAYER_OUT_OF_SIGHT, TP:25-70, WAITFOR_TALK_HUG
$ -> CREATE_HUG_ANIMATION = CREATE_ANIMATION -> 28-34-BACK:WORLD,3,1,ALICIA_HUG_REBECCA,41,2,FALSE
$ -> CREATE_DOOR = CREATE -> 28-34-FRONT:1-235-0
$ -> DELETE_DOOR = DELETE -> 28-34:WORLD,1
$ -> WAITFOR_TALK_HUG = WAITFOR -> TIMER:5 ? TALK:ALICIA_HUG
$ -> TALKED_ALICIA_HUG = GOTO -> FACING:RIGHT, TP:29-34, AFFECTING:PLAYER*TP_PLAYER_NEAR_ALICIA, DELETE_DOOR, SOUND:JUMP, WAITFOR_PARSE_ALICIA_LANDSLIDE
$ -> WAITFOR_PARSE_ALICIA_LANDSLIDE = WAITFOR -> TIMER:1 ? PARSE_ALICIA_LANDSLIDE
$ -> PARSE_ALICIA_LANDSLIDE = MEMORY -> ALICIA_PLAYERLESS_START_LANDSLIDE ? WAITFOR_TALK_ALICIA_LANDSLIDE_THERE / DESK_LANDSLIDING
$ -> WAITFOR_TALK_ALICIA_LANDSLIDE_THERE = WAITFOR -> TIMER:1 ? TALK:ALICIA_LANDSLIDE_THERE
TALKED -> ALICIA_LANDSLIDE_THERE = GOTO -> CREATE_DOOR, STOP_ALICIA_CUTSCENE, START_FOLLOWING_PLAYER, PARSE_LANDSLIDE_EVIL_IDEA
$ -> DESK_LANDSLIDING = GOTO -> AFFECTING:OBJ-42*ALICIA_LANDSLIDE_START, AFFECTING:PLAYER*PLAYER_NOTICE_ALICIA_LANDSLIDE, NOTICE_ALICIA_LANDSLIDE
$ -> NOTICE_ALICIA_LANDSLIDE = GOTO -> FACING:DOWN, EXPRESSION:EXCLAMATION, WAITFOR_MOVE_BEFORE_LANDSLIDE
$ -> WAITFOR_MOVE_BEFORE_LANDSLIDE = WAITFOR -> TIMER:1 ? WAITFOR_CREATE_DOOR, MOVE:30-34
$ -> WAITFOR_CREATE_DOOR = WAITFOR -> FACING:RIGHT ? CREATE_DOOR
GOAL -> 30-34 = FACING -> DOWN
TALKED -> ALICIA_LANDSLIDE_DESK = WAITFOR -> TIMER:3 ? TALK:ALICIA_LANDSLIDE_DESK_NEXT
TALKED -> ALICIA_LANDSLIDE_DESK_NEXT = GOTO -> STOP_ALICIA_CUTSCENE, START_FOLLOWING_PLAYER, PARSE_LANDSLIDE_EVIL_IDEA
$ -> PARSE_LANDSLIDE_EVIL_IDEA = MEMORY -> PSYCOPATH ? TALK:LANDSLIDE_EVIL_IDEA / NULL
$ -> START_FOLLOWING_PLAYER = GOTO -> PLAYER_AVOIDER_TYPE:THROUGH, WAITFOR_STUN:FALSE, MEMORY:ALICIA_FOLLOW_PLAYER, AFFECTING:ALICIA_FOLLOW_PLAYER, FOLLOW_PLAYER
$ -> FOLLOW_PLAYER = WAITFOR -> TIMER:1 ? PARSE_FOLLOW_PLAYER_FAR, PARSE_FOLLOW_PLAYER_FUTHER, PARSE_FOLLOW_PLAYER_CLOSE, FOLLOW_PLAYER
$ -> PARSE_FOLLOW_PLAYER_FAR = PLAYER_FUTHER_THAN -> 2 ? MOVE:PLAYER / NULL
$ -> PARSE_FOLLOW_PLAYER_CLOSE = PLAYER_CLOSER_THAN -> 3 ? FACING:PLAYER / NULL


//// BOMB PATH ////

WONPUZZLE -> 56-32 = MEMORY -> ALICIA_FOLLOW_PLAYER ? AFFECTING:OBJECT*TP_TO_PLAYER, PARSE_PSYCOPATH_BOMBING_OWN_DESK / MEMORY:FIRST_EXPLOSION_ALICIA_NO_WITNESS, AFFECTING:PLAYER*BOMBING_OWN_DESK_NO_ALICIA
$ -> PARSE_PSYCOPATH_BOMBING_OWN_DESK = MEMORY -> PSYCOPATH ? TALK:ALICIA_BOMBING_OWN_DESK_EVIL / TALK:ALICIA_BOMBING_OWN_DESK
TALKED -> ALICIA_BOMBING_OWN_DESK = GOTO -> MEMORY:TALKED_ALICIA_BOMBING_OWN_DESK, FACING_PLAYER:UP
TALKED -> ALICIA_BOMBING_OWN_DESK_EVIL = FACING_PLAYER -> UP
WONPUZZLE -> 57-27 = MEMORY -> ALICIA_FOLLOW_PLAYER ? CENTER_PLAYER:PROCESS, MOVE:STOP, TP:57-29, PARSE_PSYCOPATH_BOMBING_OWN_DESK_AGAIN / NULL
$ -> PARSE_PSYCOPATH_BOMBING_OWN_DESK_AGAIN = MEMORY -> PSYCOPATH ? MEMORY:REBECCA_PROMISED_NO_MORE_BOMBS, TALK:ALICIA_BOMBING_OWN_DESK_AGAIN_EVIL / PARSE_FIRST_EXPLOSION_ALICIA_NO_WITNESS
$ -> PARSE_FIRST_EXPLOSION_ALICIA_NO_WITNESS = MEMORY -> FIRST_EXPLOSION_ALICIA_NO_WITNESS ? TALK:ALICIA_BOMBING_OWN_DESK / PARSE_PLAYER_GREEN_KEY
$ -> PARSE_PLAYER_GREEN_KEY = UNLOCKEDTOOL -> KEY:GREEN ? MEMORY:REBECCA_PROMISED_NO_MORE_BOMBS, TALK:ALICIA_BOMBING_OWN_DESK_AGAIN_VAR / TALK:ALICIA_BOMBING_OWN_DESK_AGAIN
TALKED -> ALICIA_BOMBING_OWN_DESK_AGAIN = GOTO -> MEMORY:ALICIA_WARNED_PLAYER_DURING_BOMB_PATH_ABOUT_NO_LIKING_BOMB, FACING_PLAYER:UP
TALKED -> ALICIA_BOMBING_OWN_DESK_AGAIN_EVIL = FACING_PLAYER -> UP
WONPUZZLE -> 56-22 = MEMORY -> ALICIA_FOLLOW_PLAYER ? WAITFOR_NULL, MOVE:STOP, TP:56-24, FACING:UP, MEMORY:ERIC_RUN_WHILE_ALICIA_HERE / MEMORY:THIRD_EXPLOSION_ALICIA_NO_WITNESS
TALKED -> ERIC_FREAKS_OUT_ALICIA_HERE = MOVE -> 59-19
GOAL -> 59-19 = GOTO -> FACING:RIGHT, WAITFOR_PARSE_REBECCA_PROMISED_NO_MORE_BOMBS
$ -> WAITFOR_PARSE_REBECCA_PROMISED_NO_MORE_BOMBS = WAITFOR -> TIMER:3 ? PARSE_REBECCA_PROMISED_NO_MORE_BOMBS
$ -> PARSE_REBECCA_PROMISED_NO_MORE_BOMBS = MEMORY -> REBECCA_PROMISED_NO_MORE_BOMBS ? TALK:ALICIA_PISSED_OFF / PARSE_ALICIA_WARNED_PLAYER_DURING_BOMB_PATH_ABOUT_NO_LIKING_BOMB
$ -> PARSE_ALICIA_WARNED_PLAYER_DURING_BOMB_PATH_ABOUT_NO_LIKING_BOMB = MEMORY -> ALICIA_WARNED_PLAYER_DURING_BOMB_PATH_ABOUT_NO_LIKING_BOMB ? TALK:ALICIA_STOP_BOMB / TALK:ALICIA_STOP_BOMB_NO_PRE_WARNING
TALKED -> ALICIA_PISSED_OFF = MEMORY -> PSYCOPATH ? TALK:ALICIA_PISSED_OFF_EVIL / CHOICE_CONTINUE_OR_STOP_BOMBS
$ -> CHOICE_CONTINUE_OR_STOP_BOMBS = CHOICE -> NO_I_CONTINUE*BOMB_NO_I_CONTINUE, OK_I_STOP*BOMB_OK_I_STOP
TALKED -> ALICIA_PISSED_OFF_EVIL = GOTO -> PLAYER_AVOIDER_TYPE:CUTSCENE, MOVE:56-21
GOAL -> 56-21 = TALK -> ALICIA_PISSED_OFF_NEXT
TALKED -> ALICIA_STOP_BOMB_NO_PRE_WARNING = CHOICE -> NO_I_CONTINUE*BOMB_NO_I_CONTINUE, OK_I_STOP*BOMB_OK_I_STOP
TALKED -> ALICIA_STOP_BOMB = CHOICE -> NO_I_CONTINUE*BOMB_NO_I_CONTINUE, OK_I_STOP*BOMB_OK_I_STOP
! -> BOMB_NO_I_CONTINUE = UNLOCKEDTOOLMAXLEVEL -> KEY:GREEN ? TALK:ALICIA_BOMB_NO_I_CONTINUE / TALK:ALICIA_BOMB_NO_I_CONTINUE_NO_KEY
TALKED -> ALICIA_BOMB_NO_I_CONTINUE = GOTO -> PLAYER_AVOIDER_TYPE:CUTSCENE, SLOW:56-20
TALKED -> ALICIA_BOMB_NO_I_CONTINUE_NO_KEY = GOTO -> PLAYER_AVOIDER_TYPE:CUTSCENE, SLOW:56-20
GOAL -> 56-20 = GOTO -> FACING_PLAYER:DOWN, SLOW:57-28
GOAL -> 57-28 = GOTO -> SLOW:42-34, PARSE_BOMBING_CONTINUE_GREEN_KEY
$ -> PARSE_BOMBING_CONTINUE_GREEN_KEY = UNLOCKEDTOOLMAXLEVEL -> KEY:GREEN ? TALK:REBECCA_NOT_THAT_BAD / TALK:REBECCA_I_HAD_NO_CHOICE
! -> BOMB_OK_I_STOP = GOTO -> MEMORY:ALICIA_BOMB_OK_I_STOP, DESACTIVE_LANDSLIDE, PARSE_STOP_BOMB_AND_HAS_GREEN_KEY
$ -> DESACTIVE_LANDSLIDE = DISABLE -> 58-17:1
$ -> PARSE_STOP_BOMB_AND_HAS_GREEN_KEY = UNLOCKEDTOOL -> KEY:GREEN ? TALK:ALICIA_I_STOP_BOMB_HAVING_KEY / PARSE_STOP_BOMB_AND_CAN_TAKE_GREEN_KEY
$ -> PARSE_STOP_BOMB_AND_CAN_TAKE_GREEN_KEY = UNLOCKEDTOOLMAXLEVEL -> KEY:GREEN ? TALK:ALICIA_I_STOP_BOMB_CAN_TAKE_KEY / TALK:ALICIA_I_STOP_BOMB_CANNOT_TAKE_KEY
TALKED -> ALICIA_I_STOP_BOMB_HAVING_KEY = GOTO -> FOLLOW_PLAYER, CUTSCENE:STOP
TALKED -> ALICIA_I_STOP_BOMB_CAN_TAKE_KEY = GOTO -> MOVE:59-20, CUTSCENE:STOP_WITH_DELAY
TALKED -> ALICIA_I_STOP_BOMB_CANNOT_TAKE_KEY = GOTO -> ALICIA_TAKE_GREEN_KEY, PICKUP_KEY, FOLLOW_PLAYER, CUTSCENE:STOP_WITH_DELAY
GOAL -> 59-20 = GOTO -> FACING:LEFT, FOLLOW_PLAYER
$ -> PICKUP_KEY = PICKUP -> 59-19:1

TALKED -> BOMBING_OWN_DESK_ERIC_RAN = UNLOCKEDTOOL -> KEY:GREEN ? NULL / CREATE_SOFT_LOCK_PREVENTER, CREATE_SOFT_LOCK_PREVENTER, AFFECTING:OBJ-67*INIT_SOFT_LOCK_PREVENTER_VAR
$ -> CREATE_BLOCKED_ERIC_DESK_CONDITIONNAL = MEMORY -> THIRD_EXPLOSION_ALICIA_NO_WITNESS ? CREATE_GREEN_RUBBLE_AT_ERIC_DESK, SOFT_LOCK_CHECKER / NULL
$ -> CREATE_GREEN_RUBBLE_AT_ERIC_DESK = CREATE -> 56-22-BACK:2-235-2
$ -> SOFT_LOCK_CHECKER = UNLOCKEDTOOL -> KEY:GREEN ? NULL / CREATE_SOFT_LOCK_PREVENTER, AFFECTING:OBJ-67*INIT_SOFT_LOCK_PREVENTER
$ -> CREATE_SOFT_LOCK_PREVENTER = CREATE -> 57-27-BACK:67-255-255
! -> PREVENT_BOMB_PATH_SOFTLOCK_CUTSCENE_WITH_ALICIA = GOTO -> WAITFOR_NULL, MOVE:STOP, TP:57-28, SLOW:57-24
TALKED -> ALICIA_GREEN_KEY_SOFTLOCK = GOTO -> ALICIA_TAKE_GREEN_KEY, GIVEN_GREEN_KEY, FOLLOW_PLAYER, CUTSCENE:STOP_WITH_DELAY
$ -> GIVEN_GREEN_KEY = GOTO -> CREATE_GREEN_KEY_VAR, PICKUP_KEY_VAR
$ -> CREATE_GREEN_KEY_VAR = CREATE -> 57-24-BACK:1-2-255
$ -> PICKUP_KEY_VAR = PICKUP -> 57-24:1


//// GREEN KEY ////

$ -> ALICIA_TAKE_GREEN_KEY = GOTO -> CREATE_UP_GREEN_SAS_DOOR, CREATE_LEFT_GREEN_SAS_DOOR, CREATE_DOWN_GREEN_SAS_DOOR, MEMORY:ALICIA_HAS_GREEN_KEYS, AFFECTING:INIT_GREEN_SAS_DOORS
$ -> CREATE_UP_GREEN_SAS_DOOR = CREATE -> 47-36-BACK:51-255-255
$ -> CREATE_LEFT_GREEN_SAS_DOOR = CREATE -> 45-38-BACK:52-255-255
$ -> CREATE_DOWN_GREEN_SAS_DOOR = CREATE -> 26-36-BACK:53-255-255
! -> ASK_FOR_OPENING_GREEN_UP_SAS_DOOR = PLAYER_CLOSER_THAN -> 4 ? WAITFOR_NULL, MOVE:47-35, CREATE_BONUSTEXT_I_M_ON_IT / NULL
! -> ASK_FOR_OPENING_GREEN_LEFT_SAS_DOOR = PLAYER_CLOSER_THAN -> 4 ? WAITFOR_NULL, MOVE:46-38, CREATE_BONUSTEXT_I_M_ON_IT / NULL
! -> ASK_FOR_OPENING_GREEN_DOWN_SAS_DOOR = PLAYER_CLOSER_THAN -> 4 ? WAITFOR_NULL, MEMORY:ALICIA_ASKED_FOR_OPENING_GREEN_DOWN_SAS_DOOR, MOVE:26-35, CREATE_BONUSTEXT_I_M_ON_IT / NULL
$ -> CREATE_BONUSTEXT_I_M_ON_IT = CREATE_BONUSTEXT -> ONTHESPOT,NORMAL,I_M_ON_IT
GOAL -> 47-35 = GOTO -> FACING:DOWN, WAITFOR_OPENING_GREEN_UP_SAS_DOOR
GOAL -> 46-38 = GOTO -> FACING:LEFT, WAITFOR_OPENING_GREEN_LEFT_SAS_DOOR
$ -> ALICIA_ASKED_FOR_OPENING_GREEN_DOWN_SAS_DOOR = GOTO -> FACING:DOWN, WAITFOR_OPENING_GREEN_DOWN_SAS_DOOR
$ -> WAITFOR_OPENING_GREEN_UP_SAS_DOOR = WAITFOR -> TIMER:2 ? AFFECTING:OBJ-51*OPEN_DOOR, FOLLOW_PLAYER
$ -> WAITFOR_OPENING_GREEN_LEFT_SAS_DOOR = WAITFOR -> TIMER:2 ? AFFECTING:OBJ-52*OPEN_DOOR, FOLLOW_PLAYER
$ -> WAITFOR_OPENING_GREEN_DOWN_SAS_DOOR = WAITFOR -> TIMER:2 ? AFFECTING:OBJ-53*OPEN_DOOR, FOLLOW_PLAYER, TALK_SAS_FULLY_UNLOCKED_CONDITIONNAL


//// EXIT PEOPLE REACTION ////

TALKED -> JEAN_EXIT = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:ALICIA_REACTION_JEAN_EXIT / NULL
TALKED -> JOSEPH_FORGOT = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:ALICIA_REACTION_JOSEPH_FORGET / NULL
TALKED -> JOSEPH_FORGOT_COUCH = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:ALICIA_REACTION_JOSEPH_FORGET / NULL
TALKED -> JEAN_SCOLDING = MEMORY -> ALICIA_FOLLOW_PLAYER ? WAITFOR_ALICIA_AWAKRD_AT_JEAN_SCOLING / NULL
$ -> WAITFOR_ALICIA_AWAKRD_AT_JEAN_SCOLING = WAITFOR -> PLAYER_FUTHER_THAN:3 ? CUTSCENE:START, SLOW:PLAYER, WAITFOR_TALK_ALICIA_JEAN_SCOLDING_REACTION
$ -> WAITFOR_TALK_ALICIA_JEAN_SCOLDING_REACTION = WAITFOR -> PLAYER_CLOSER_THAN:2 ? FACING:PLAYER, FACING_PLAYER:ALICIA, TALK:ALICIA_REACTION_JEAN_SCOLDING
TALKED -> ALICIA_REACTION_JEAN_SCOLDING = GOTO -> CUTSCENE:STOP, FOLLOW_PLAYER
TALKED -> MARIE_BOMB = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:ALICIA_REACTION_MARIE_BOMB / NULL
TALKED -> ALICIA_REACTION_MARIE_BOMB = GOTO -> MEMORY:ALICIA_IS_FINE_WITH_BOMBING_ENTRANCE, DISABLE_WALLS
$ -> DISABLE_WALLS = GOTO -> CREATE_RUBBLE_EXPLOSING_REFUSAL, PARSE_FIRST_WALL_EXPLODED
$ -> PARSE_FIRST_WALL_EXPLODED = MEMORY -> FIRST_WALL_EXPLODED ? PARSE_SECOND_WALL_EXPLODED / AFFECTING:OBJ-54*INIT_FIRST_WALL
$ -> PARSE_SECOND_WALL_EXPLODED = MEMORY -> SECOND_WALL_EXPLODED ? AFFECTING:OBJ-54*INIT_THIRD_WALL / AFFECTING:OBJ-54*INIT_SECOND_WALL
$ -> CREATE_RUBBLE_EXPLOSING_REFUSAL = CREATE -> 53-27-FRONT:54-255-255
TALKED -> MARIE_INTRUDER_SARAH_PISSED = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:ALICIA_REACTION_MARIE_INTRUDER_SARAH_PISSED / NULL

! -> ALICIA_DISCOVER_HER_DESK_ROOM = GOTO -> WAITFOR_NULL, MOVE:28-39
GOAL -> 28-39 = MOVE -> 29-39
GOAL -> 29-39 = WAITFOR -> TIMER:1 ? EXPRESSION:SUSPENSION, WAITFOR_TALK_ABOUT_HER_ROOM
$ -> WAITFOR_TALK_ABOUT_HER_ROOM = WAITFOR -> TIMER:2 ? TALK:ALICIA_DISCOVER_HER_ROOM
TALKED -> ALICIA_DISCOVER_HER_ROOM = GOTO -> FACING_PLAYER:DOWN, CHOICE_ALICIA_DISCOVER_HER_ROOM
$ -> CHOICE_ALICIA_DISCOVER_HER_ROOM = CHOICE -> WE_WILL_HELP_YOU*CHOICE_ALICIA_ROOM_MESSED_WE_WILL_HELP_YOU, INDEED*CHOICE_ALICIA_ROOM_MESSED_INDEED
! -> CHOICE_ALICIA_ROOM_MESSED_WE_WILL_HELP_YOU = TALK -> ALICIA_DISCOVER_HER_ROOM_HELP
TALKED -> ALICIA_DISCOVER_HER_ROOM_HELP = GOTO -> CAMERA:PLAYER_FLUID, CUTSCENE:STOP, FOLLOW_PLAYER
! -> CHOICE_ALICIA_ROOM_MESSED_INDEED = GOTO -> CAMERA:PLAYER_FLUID, CUTSCENE:STOP, FOLLOW_PLAYER
TALKED -> SARAH_SEARCH_ALICIA_DESK = MEMORY -> ALICIA_FOLLOW_PLAYER ? PARSE_ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK / NULL
TALKED -> SARAH_SEARCH_ALICIA_DESK_NEXT = MEMORY -> ALICIA_FOLLOW_PLAYER ? PARSE_ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK / NULL
TALKED -> SARAH_SEARCH_ALICIA_DESK_NEXT_NEXT = MEMORY -> ALICIA_FOLLOW_PLAYER ? PARSE_ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK / NULL
$ -> PARSE_ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK = MEMORY -> ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK ? NULL / TALK:ALICIA_REACTION_SARAH_SEARCH_ALICIA_DESK
TALKED -> ALICIA_REACTION_SARAH_SEARCH_ALICIA_DESK = MEMORY -> ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK
TALKED -> ALICIA_ROOM_PLANT = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:ALICIA_REACTION_ALICIA_ROOM_PLANT / NULL
TALKED -> ALICIA_ROOM_ANYTHING = MEMORY -> ALICIA_FOLLOW_PLAYER ? FACING_PLAYER:ALICIA, TALK:ALICIA_REACTION_ALICIA_ROOM_ANYTHING / NULL

TALKED -> MIKA_BOMB = MEMORY -> ALICIA_FOLLOW_PLAYER ? PARSE_ALICIA_IS_FINE_WITH_BOMBING_ENTRANCE / NULL
$ -> PARSE_ALICIA_IS_FINE_WITH_BOMBING_ENTRANCE = MEMORY -> ALICIA_IS_FINE_WITH_BOMBING_ENTRANCE ? NULL / PARSE_TALKED_ALICIA_BOMBING_OWN_DESK
$ -> PARSE_TALKED_ALICIA_BOMBING_OWN_DESK = MEMORY -> TALKED_ALICIA_BOMBING_OWN_DESK ? PARSE_ALICIA_BOMB_OK_I_STOP / TALK:ALICIA_REACTION_MIKA_BOMB
$ -> PARSE_ALICIA_BOMB_OK_I_STOP = MEMORY -> ALICIA_BOMB_OK_I_STOP ? TALK:ALICIA_REACTION_MIKA_BOMB_VAR / NULL
TALKED -> ALICIA_REACTION_MIKA_BOMB_VAR = GOTO -> PLAYER_AVOIDER_TYPE:AROUND, MEMORY:TALKED_ALICIA_REACTION_MIKA_BOMB_VAR
TALKED -> EXIT_IS_OPENED = MEMORY -> TALKED_ALICIA_REACTION_MIKA_BOMB_VAR ? TALK:ALICIA_REACTION_EXIT_IS_OPENED / NULL
TALKED -> ALICIA_REACTION_EXIT_IS_OPENED = GOTO -> AFFECTING:PLAYER_OPENED_EXIT