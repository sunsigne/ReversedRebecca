TIME -> 0 = GOTO -> NAME:ALICIA, MOVE:26-34, TURN_DOOR_INTO_SPEAKABLE


//// STATE ////

! -> DISABLE_ALICIA = DISABLE_ONTHESPOT -> 2
! -> ENABLE_ALICIA = ENABLE_ONTHESPOT -> 2
GOAL -> 26-34 = GOTO -> FACING:DOWN, PARSE_ALICIA_IS_HAPPY
$ -> PARSE_ALICIA_IS_HAPPY = MEMORY -> ALICIA_IS_HAPPY ? CONDTION:GOOD, WAITING_HAPPILY_IN_AIRLOCK_START / CONDITION:CRY
$ -> WAITFOR_NULL = WAITFOR -> NULL
! -> ALICIA_PUSHED_TO_DEATH = GOTO -> PUSH:DOWN, DISPLAY_DOWNER
$ -> DISPLAY_DOWNER = DISPLAY -> 0, 6
! -> TP_TO_PLAYER = PLAYER_FUTHER_THAN -> 4 ? CENTER_PLAYER:PROCESS, TP:PLAYER, MOVE:STOP, FACING:PLAYER / NULL
! -> TP_TO_PLAYER_COUCH = GOTO -> CENTER_PLAYER:PROCESS, TP:10-32, MOVE:STOP, FACING:UP
$ -> SIT_ON_COUCH = GOTO -> HITBOX_COUCH, FACING:DOWN, CONDITION:SIT, DISPLAY_COUCH, SOUND_IF_CAMERA:JUMP, DELETE_COUCH, TP:11-29
$ -> UNSIT_FROM_COUCH = GOTO -> HITBOX_NORMAL, CONDITION:GOOD, SOUND_IF_CAMERA:JUMP, TP:11-30, CREATE_COUCH
$ -> CREATE_COUCH = CREATE -> 11-29-BACK:128-130-250
$ -> DELETE_COUCH = DELETE -> 11-29:WORLD,1
$ -> DISPLAY_COUCH = DISPLAY -> 0, 1
$ -> HITBOX_NORMAL = HITBOX -> 0, 0, 16, 16
$ -> HITBOX_COUCH = HITBOX -> 0, 2, 16, 17


//// SPEAKABLE DOOR ////

$ -> TURN_DOOR_INTO_SPEAKABLE = GOTO -> CREATE_SPEAKABLE_DOOR, AFFECTING:OBJ-21*SPEAKABLE_DOOR_INIT
$ -> CREATE_SPEAKABLE_DOOR = CREATE -> 26-36-BACK:21-255-255
! -> ALICIA_KNOCK = GOTO -> SOUND:DOOR_KNOCK, CREATE_BONUSTEXT_KNOCK, CUTSCENE:START, WAITFOR_ALICIA_KNOW_REALISATION
$ -> CREATE_BONUSTEXT_KNOCK = CREATE_BONUSTEXT -> 26-36,NORMAL,KNOCK
$ -> WAITFOR_ALICIA_KNOW_REALISATION = WAITFOR -> TIMER:1 ? CONDITION:GOOD, EXPRESSION:EXCLAMATION, WAITFOR_MOVE_TO_DOOR
$ -> WAITFOR_MOVE_TO_DOOR = WAITFOR -> TIMER:1 ? MOVE:26-35

GOAL -> 26-35 = MEMORY -> ALICIA_ASKED_FOR_OPENING_GREEN_DOWN_SAS_DOOR ? ALICIA_ASKED_FOR_OPENING_GREEN_DOWN_SAS_DOOR / PARSE_MIKA_REACHED_AIRLOCK_TO_UNLOCK_ALICIA
$ -> PARSE_MIKA_REACHED_AIRLOCK_TO_UNLOCK_ALICIA = MEMORY -> MIKA_REACHED_AIRLOCK_TO_UNLOCK_ALICIA ? AFFECTING:MIKA*ALICIA_TALKING_TO_MIKA_WHO_WILL_BREAK_DOOR, WAITFOR_MOVING_AWAY_BREAK_DONW_DOOR / PARSE_SADISTIC_REBECCA
$ -> PARSE_SADISTIC_REBECCA = MEMORY -> SADISTIC_REBECCA ? TALK:ALICIA_SAS*LOCKED_SADISTIC / PARSE_ALICIA_KNOCK_SENARIO
$ -> PARSE_ALICIA_KNOCK_SENARIO = MEMORY -> SCENARIO_INQUIRY ? TALK:ALICIA_SAS*LOCKED_INQUIRY / TALK:ALICIA_SAS*LOCKED_EXIT
TALKED -> ALICIA_SAS*LOCKED_SADISTIC = GOTO -> CUTSCENE:STOP, SLOW:26-34
TALKED -> ALICIA_SAS*LOCKED_INQUIRY = GOTO -> CUTSCENE:STOP, MEMORY:ALICIA_IS_HAPPY, AFFECTING:ALICIA_LOCKED_IN_AIRLOCK_SEARCHING_HELP, MEMORY:ALICIA_LOCKED_IN_AIRLOCK_SEARCHING_HELP, SLOW:26-34
TALKED -> ALICIA_SAS*LOCKED_EXIT = GOTO -> CUTSCENE:STOP, MEMORY:ALICIA_IS_HAPPY, SLOW:26-34
$ -> WAITING_HAPPILY_IN_AIRLOCK_START = WAITFOR -> TIMER:5 ? RAD_FACING, WAITING_HAPPILY_IN_AIRLOCK_STEP_ONE
$ -> RAD_FACING = RANDOM -> PERCENTAGE:50 ? FACING:LEFT / FACING:UP
$ -> WAITING_HAPPILY_IN_AIRLOCK_STEP_ONE = WAITFOR -> TIMER:2 ? FACING:DOWN, WAITING_HAPPILY_IN_AIRLOCK_STEP_TWO
$ -> WAITING_HAPPILY_IN_AIRLOCK_STEP_TWO = WAITFOR -> TIMER:4 ? FACING:RIGHT, WAITING_HAPPILY_IN_AIRLOCK_STEP_THREE
$ -> WAITING_HAPPILY_IN_AIRLOCK_STEP_THREE = WAITFOR -> TIMER:2 ? SLOW:27-34, WAITING_HAPPILY_IN_AIRLOCK_STEP_FOUR
$ -> WAITING_HAPPILY_IN_AIRLOCK_STEP_FOUR = WAITFOR -> TIMER:6 ? SLOW:26-34
! -> MIKA_REACHED_AIRLOCK_TO_UNLOCK_ALICIA = GOTO -> WAITFOR_NULL, SLOW:26-35
$ -> WAITFOR_MOVING_AWAY_BREAK_DONW_DOOR = WAITFOR -> TIMER:4 ? MOVE:25-33
GOAL -> 25-33 = FACING -> DOWN


//// AIRLOCK DOWN ////

WONPUZZLE -> 26-36 = GOTO -> ALICIA_NORMAL_CUTSCENE_CONDITIONNAL
$ -> ALICIA_NORMAL_CUTSCENE_CONDITIONNAL = MEMORY -> ALICIA_FREED_FROM_SAS ? TALK_SAS_FULLY_UNLOCKED_CONDITIONNAL / ALICIA_NORMAL_CUTSCENE
$ -> ALICIA_NORMAL_CUTSCENE = GOTO -> MEMORY:ALICIA_FREED_FROM_SAS, CUTSCENE:START, GOOD_DEED:FREE_ALICIA, CAMERA:FIX, ALICIA_NORMAL_CUTSCENE_UPDATE_OBJECTS, WAITFOR_ALICIA_NORMAL_CUTSCENE
$ -> ALICIA_NORMAL_CUTSCENE_UPDATE_OBJECTS = GOTO -> DELETE_DOWN_DOOR
$ -> WAITFOR_ALICIA_NORMAL_CUTSCENE = WAITFOR -> TIMER:1 ? CONDITION:GOOD, FACING:DOWN, EXPRESSION:EXCLAMATION, WAITFOR_RUNNING_TO_HUG_REBECCA_DOWN
$ -> WAITFOR_RUNNING_TO_HUG_REBECCA_DOWN = WAITFOR -> TIMER:1 ? FAST:26-36
GOAL -> 26-36 = GOTO -> SOUND:HIT_SMALL, CREATE_HUG_ANIMATION_DOWN, AFFECTING:PLAYER*TP_PLAYER_OUT_OF_SIGHT, TP:25-70, WAITFOR_TALK_HUG_DOWN
$ -> CREATE_HUG_ANIMATION_DOWN = CREATE_ANIMATION -> 26-36-BACK:WORLD,1,4,ALICIA_HUG_DOWN_REBECCA,2,FALSE
$ -> CREATE_DOWN_DOOR = CREATE -> 26-36-FRONT:1-235-0
$ -> DELETE_DOWN_DOOR = DELETE -> 26-36:WORLD,1
$ -> WAITFOR_TALK_HUG_DOWN = WAITFOR -> TIMER:3 ? MEMORY:ALICIA_HUG_DOWN, TALK:ALICIA_SAS*HUG
TALKED -> ALICIA_SAS*HUG = MEMORY -> ALICIA_HUG_DOWN ? TALKED_ALICIA_HUG_DOWN / TALKED_ALICIA_HUG
$ -> TALKED_ALICIA_HUG_DOWN = GOTO -> FACING:DOWN, TP:26-38, AFFECTING:PLAYER*TP_PLAYER_NEAR_ALICIA_DOWN, DELETE_DOWN_DOOR, SOUND:JUMP, WAITFOR_TALK_PICK_ME_UP
$ -> WAITFOR_TALK_PICK_ME_UP = WAITFOR -> TIMER:2 ? TALK:ALICIA_SAS*PICK_ME_UP
TALKED -> ALICIA_SAS*PICK_ME_UP = CHOICE -> OBJECT : (COFFEE)ALICIA_ASK_COFFEE, (TEA)ALICIA_ASK_TEA, (NO_THANKS)ALICIA_NO_THANKS
! -> ALICIA_ASK_COFFEE = GOTO -> MEMORY:ALICIA_ASKED_DRINK, MEMORY:ALICIA_ASKED_COFFEE, TALK:ALICIA_SAS*ASK_DRINK
! -> ALICIA_ASK_TEA = GOTO -> MEMORY:ALICIA_ASKED_DRINK, MEMORY:ALICIA_ASKED_TEA, TALK:ALICIA_SAS*ASK_DRINK
! -> ALICIA_NO_THANKS = TALK -> ALICIA_SAS*NO_THANKS
TALKED -> ALICIA_SAS*ASK_DRINK = GOTO -> PLAYER_AVOIDER_TYPE:STOP, SLOW:16-36, CREATE_DOWN_DOOR, STOP_ALICIA_CUTSCENE
TALKED -> ALICIA_SAS*NO_THANKS = GOTO -> PLAYER_AVOIDER_TYPE:STOP, SLOW:16-36, CREATE_DOWN_DOOR, STOP_ALICIA_CUTSCENE
$ -> STOP_ALICIA_CUTSCENE = GOTO -> CUTSCENE:STOP, CAMERA:PLAYER_FLUID
GOAL -> 16-36 = GOTO -> PLAYER_AVOIDER_TYPE:AROUND_OMNISCIENT, SLOW:8-29
GOAL -> 8-29 = GOTO -> FACING:LEFT, SLOW:7-29
GOAL -> 7-29 = GOTO -> FACING:UP, SOUND_IF_CAMERA:COFFEE_MACHINE, WAITFOR_HEADING_COUCH
$ -> WAITFOR_HEADING_COUCH = WAITFOR -> TIMER:5 ? CONDITION:CUP, HEADING_COUCH
$ -> HEADING_COUCH = GOTO -> MEMORY:ALICIA_WILL_SIT_ON_COUCH, SLOW:11-30
GOAL -> 11-30 = GOTO -> SIT_ON_COUCH, DROP_ALICIAS_CUP_ON_TABLE, DROP_PLAYERS_CUP_ON_TABLE_CONDITIONNAL, TA_ALICIA_COUCH, AFFECTING:OBJ-13*TA_DRINK_CUP, AFFECTING:OBJ-13*TA_DRINK_CUP, WAITFOR_DRINK_COFFEE
$ -> DROP_PLAYERS_CUP_ON_TABLE_CONDITIONNAL = MEMORY -> ALICIA_ASKED_DRINK ? DROP_PLAYERS_CUP_ON_TABLE / NULL
$ -> DROP_ALICIAS_CUP_ON_TABLE = CREATE_DECORATION -> 11-31-FRONT:WORLD,1,1,CUP,11-6,1-1
$ -> DROP_PLAYERS_CUP_ON_TABLE = CREATE_DECORATION -> 11-31-FRONT:WORLD,1,1,CUP,14-7,1-1
$ -> WAITFOR_DRINK_COFFEE = WAITFOR -> TIMER:40 ? WAITFOR_DRINK_COFFEE_DOUBLE_VERIFICATION
$ -> WAITFOR_DRINK_COFFEE_DOUBLE_VERIFICATION = WAITFOR -> PLAYER_FUTHER_THAN:5 ? SOUND_IF_CAMERA:DRINK_JUICE, DELETE_CUP, AFFECTING:OBJ-13*ALICIA_DRANK_ITS_COFFEE
$ -> DELETE_CUP = DELETE -> 11-31:WORLD,2
$ -> TA_ALICIA_COUCH = TRIPLE_ACTION -> TALK(TALK)ALICIA_COUCH*NEUTRAL
TALKED -> ALICIA_COUCH*NEUTRAL = ACTION_ONE -> TALK(LOCKED_UP)ALICIA_COUCH*NEXT
TALKED -> ALICIA_COUCH*NEXT = GOTO -> AFFECTING:FREE_AND_BEFRIEND_ALICIA, ACTION_ONE:TALK(CHAT)ALICIA_COUCH*LAST
TALKED -> ALICIA_COUCH*DRINK_WAS_MINE = GOTO -> DISABLE_ONTHESPOT:2, WAITFOR_NULL, FACING_PLAYER:ALICIA, CHOICE_APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE
$ -> CHOICE_APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE = CHOICE -> OBJECT : (APOLOGIZE)APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE, (SAY_NOTHING)NOT_APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE
! -> APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE = GOTO -> ENABLE_ONTHESPOT:2, TALK:ALICIA_COUCH*DRINK_WAS_MINE_APOLOGIZE
! -> NOT_APOLOGIZE_ABOUT_DRINKING_ALICIAS_COFFEE = GOTO -> ENABLE_ONTHESPOT:2, BAD_DEED:STEAL_HER_DRINK, ACTION_ONE:TALK(TALK)ALICIA_COUCH*DRINK_WAS_MINE_NEXT

$ -> TALK_SAS_FULLY_UNLOCKED_CONDITIONNAL = MEMORY -> RECEPTION_IS_OPENED ? CUTSCENE:START, WAITFOR_TALK_EXIT_IS_OPENED / TALK:REBECCA_EXIT*SAS_FULLY_UNLOCKED
TALKED -> REBECCA_EXIT*SAS_FULLY_UNLOCKED = MEMORY -> SAS_FULLY_UNLOCKED
$ -> WAITFOR_TALK_EXIT_IS_OPENED = WAITFOR -> TIMER:1 ? TALK:REBECCA_EXIT*EXIT_IS_OPENED_VAR
TALKED -> ALICIA_COUCH*DRINK_THANK = AFFECTING -> FREE_AND_BEFRIEND_ALICIA
TALKED -> ALICIA_COUCH*DRINK_THANK_VAR = AFFECTING -> FREE_AND_BEFRIEND_ALICIA


//// AIRLOCK RIGHT ////

WONPUZZLE -> 28-34 = GOTO -> ALICIA_COLLAPSE_CUTSCENE_CONDITIONNAL, CREATE_BLOCKED_ERIC_DESK_CONDITIONNAL
$ -> ALICIA_COLLAPSE_CUTSCENE_CONDITIONNAL = MEMORY -> ALICIA_FREED_FROM_SAS ? MEMORY:SAS_FULLY_UNLOCKED / ALICIA_COLLAPSE_CUTSCENE
$ -> ALICIA_COLLAPSE_CUTSCENE = GOTO -> MEMORY:ALICIA_FREED_FROM_SAS, CUTSCENE:START, GOOD_DEED:FREE_ALICIA, CAMERA:FIX, ALICIA_COLLAPSE_CUTSCENE_UPDATE_OBJECTS, WAITFOR_ALICIA_COLLAPSE_CUTSCENE
$ -> ALICIA_COLLAPSE_CUTSCENE_UPDATE_OBJECTS = GOTO -> AFFECTING:OBJ-22*ALICIA_COLLAPSE_WAITFOR_NULL, AFFECTING:ALICIA_RUBBLE_CHECKERS_DELETE, AFFECTING:OBJ-21*DELETE_SPEAKABLE_DOOR, DELETE_DOOR
$ -> WAITFOR_ALICIA_COLLAPSE_CUTSCENE = WAITFOR -> TIMER:1 ? CONDITION:GOOD, FACING:RIGHT, EXPRESSION:EXCLAMATION, WAITFOR_RUNNING_TO_HUG_REBECCA
$ -> WAITFOR_RUNNING_TO_HUG_REBECCA = WAITFOR -> TIMER:1 ? FAST:28-34, WAITFOR_CREATE_NEXT_HUG_ANIMATION
GOAL -> 28-34 = GOTO -> SOUND:HIT_SMALL, CREATE_HUG_ANIMATION, AFFECTING:PLAYER*TP_PLAYER_OUT_OF_SIGHT, TP:25-70
$ -> WAITFOR_CREATE_NEXT_HUG_ANIMATION = WAITFOR -> TIMER:2 ? DELETE_DOOR, CREATE_NEXT_HUG_ANIMATION, WAITFOR_TALK_HUG
$ -> CREATE_HUG_ANIMATION = CREATE_ANIMATION -> 28-34-BACK:WORLD,3,1,ALICIA_HUG_REBECCA_1,2,FALSE
$ -> CREATE_NEXT_HUG_ANIMATION = CREATE_ANIMATION -> 28-34-BACK:WORLD,3,1,ALICIA_HUG_REBECCA_2,2,FALSE
$ -> CREATE_DOOR = CREATE -> 28-34-FRONT:1-235-0
$ -> DELETE_DOOR = DELETE -> 28-34:WORLD,1
$ -> WAITFOR_TALK_HUG = WAITFOR -> TIMER:4 ? TALK:ALICIA_SAS*HUG
$ -> TALKED_ALICIA_HUG = GOTO -> FACING:RIGHT, TP:29-34, AFFECTING:PLAYER*TP_PLAYER_NEAR_ALICIA, DELETE_DOOR, SOUND:JUMP, WAITFOR_PARSE_ALICIA_COLLAPSE
$ -> WAITFOR_PARSE_ALICIA_COLLAPSE = WAITFOR -> TIMER:1 ? PARSE_ALICIA_COLLAPSE
$ -> PARSE_ALICIA_COLLAPSE = MEMORY -> ALICIA_PLAYERLESS_START_COLLAPSE ? WAITFOR_TALK_ALICIA_COLLAPSE_THERE / DESK_COLLAPSING
$ -> WAITFOR_TALK_ALICIA_COLLAPSE_THERE = WAITFOR -> TIMER:1 ? TALK:ALICIA_SAS*ALICIA_COLLAPSE_THERE
TALKED -> ALICIA_SAS*ALICIA_COLLAPSE_THERE = GOTO -> CREATE_DOOR, STOP_ALICIA_CUTSCENE, START_FOLLOWING_PLAYER, PARSE_COLLAPSE_EVIL_IDEA
$ -> DESK_COLLAPSING = GOTO -> AFFECTING:ALICIA_COLLAPSE_START, AFFECTING:PLAYER*PLAYER_NOTICE_ALICIA_COLLAPSE, NOTICE_ALICIA_COLLAPSE
$ -> NOTICE_ALICIA_COLLAPSE = GOTO -> FACING:DOWN, EXPRESSION:EXCLAMATION, WAITFOR_MOVE_BEFORE_COLLAPSE
$ -> WAITFOR_MOVE_BEFORE_COLLAPSE = WAITFOR -> TIMER:1 ? WAITFOR_CREATE_DOOR, MOVE:30-34
$ -> WAITFOR_CREATE_DOOR = WAITFOR -> FACING:RIGHT ? CREATE_DOOR
GOAL -> 30-34 = FACING -> DOWN
TALKED -> ALICIA_SAS*ALICIA_COLLAPSE_DESK = WAITFOR -> TIMER:3 ? TALK:ALICIA_SAS*ALICIA_COLLAPSE_DESK_NEXT
TALKED -> ALICIA_SAS*SARAH_COLLAPSE_FREAKS_OUT = TALK -> ALICIA_SAS*ALICIA_COLLAPSE_DESK_NEXT
TALKED -> ALICIA_SAS*ALICIA_COLLAPSE_DESK_NEXT = GOTO -> STOP_ALICIA_CUTSCENE, START_FOLLOWING_PLAYER, PARSE_COLLAPSE_EVIL_IDEA
$ -> PARSE_COLLAPSE_EVIL_IDEA = MEMORY -> PSYCHOPATH ? TALK:ALICIA_SAS*COLLAPSE_EVIL_IDEA / NULL
$ -> START_FOLLOWING_PLAYER = GOTO -> PLAYER_AVOIDER_TYPE:THROUGH, WAITFOR_STUN:FALSE, MEMORY:ALICIA_FOLLOW_PLAYER, AFFECTING:ALICIA_FOLLOW_PLAYER, FOLLOW_PLAYER
$ -> FOLLOW_PLAYER = WAITFOR -> TIMER:1 ? PARSE_FOLLOW_PLAYER_FAR, PARSE_FOLLOW_PLAYER_CLOSE, FOLLOW_PLAYER
$ -> PARSE_FOLLOW_PLAYER_FAR = PLAYER_FUTHER_THAN -> 2 ? MOVE:PLAYER / NULL
$ -> PARSE_FOLLOW_PLAYER_CLOSE = PLAYER_CLOSER_THAN -> 3 ? FACING:PLAYER / NULL


//// BOMB PATH ////

WONPUZZLE -> 56-32 = MEMORY -> ALICIA_FOLLOW_PLAYER ? AFFECTING:OBJECT*TP_TO_PLAYER, PARSE_PSYCHOPATH_BOMBING_OWN_DESK / MEMORY:FIRST_EXPLOSION_ALICIA_NO_WITNESS, AFFECTING:PLAYER*BOMBING_OWN_DESK_NO_ALICIA
$ -> PARSE_PSYCHOPATH_BOMBING_OWN_DESK = MEMORY -> PSYCHOPATH ? TALK:ALICIA_BOMBING_EVIL*BOMBING_OWN_DESK / TALK:ALICIA_BOMBING*BOMBING_OWN_DESK
TALKED -> ALICIA_BOMBING*BOMBING_OWN_DESK = GOTO -> MEMORY:TALKED_ALICIA_BOMBING_OWN_DESK, FACING_PLAYER:UP
TALKED -> ALICIA_BOMBING_EVIL*BOMBING_OWN_DESK = FACING_PLAYER -> UP
WONPUZZLE -> 57-27 = MEMORY -> ALICIA_FOLLOW_PLAYER ? CENTER_PLAYER:PROCESS, MOVE:STOP, TP:57-29, PARSE_PSYCHOPATH_BOMBING_OWN_DESK_AGAIN / NULL
$ -> PARSE_PSYCHOPATH_BOMBING_OWN_DESK_AGAIN = MEMORY -> PSYCHOPATH ? MEMORY:REBECCA_PROMISED_NO_MORE_BOMBS, TALK:ALICIA_BOMBING_EVIL*BOMBING_OWN_DESK_AGAIN / PARSE_FIRST_EXPLOSION_ALICIA_NO_WITNESS
$ -> PARSE_FIRST_EXPLOSION_ALICIA_NO_WITNESS = MEMORY -> FIRST_EXPLOSION_ALICIA_NO_WITNESS ? TALK:ALICIA_BOMBING*BOMBING_OWN_DESK / PARSE_PLAYER_GREEN_KEY
$ -> PARSE_PLAYER_GREEN_KEY = UNLOCKEDTOOL -> KEY:GREEN ? MEMORY:REBECCA_PROMISED_NO_MORE_BOMBS, TALK:ALICIA_BOMBING*BOMBING_OWN_DESK_AGAIN_VAR / TALK:ALICIA_BOMBING*BOMBING_OWN_DESK_AGAIN
TALKED -> ALICIA_BOMBING*BOMBING_OWN_DESK_AGAIN = GOTO -> MEMORY:ALICIA_WARNED_PLAYER_DURING_BOMB_PATH_ABOUT_NO_LIKING_BOMB, FACING_PLAYER:UP
TALKED -> ALICIA_BOMBING_EVIL*BOMBING_OWN_DESK_AGAIN = FACING_PLAYER -> UP
WONPUZZLE -> 56-22 = MEMORY -> ALICIA_FOLLOW_PLAYER ? WAITFOR_NULL, MOVE:STOP, TP:56-24, FACING:UP, MEMORY:ERIC_RUN_WHILE_ALICIA_HERE / MEMORY:THIRD_EXPLOSION_ALICIA_NO_WITNESS
TALKED -> ALICIA_BOMBING*ERIC_FREAKS_OUT_ALICIA_HERE = MOVE -> 59-19
GOAL -> 59-19 = GOTO -> FACING:RIGHT, WAITFOR_PARSE_REBECCA_PROMISED_NO_MORE_BOMBS
$ -> WAITFOR_PARSE_REBECCA_PROMISED_NO_MORE_BOMBS = WAITFOR -> TIMER:3 ? PARSE_REBECCA_PROMISED_NO_MORE_BOMBS
$ -> PARSE_REBECCA_PROMISED_NO_MORE_BOMBS = MEMORY -> REBECCA_PROMISED_NO_MORE_BOMBS ? TALK:ALICIA_BOMBING_EVIL*PISSED_OFF / PARSE_ALICIA_WARNED_PLAYER_DURING_BOMB_PATH_ABOUT_NO_LIKING_BOMB
$ -> PARSE_ALICIA_WARNED_PLAYER_DURING_BOMB_PATH_ABOUT_NO_LIKING_BOMB = MEMORY -> ALICIA_WARNED_PLAYER_DURING_BOMB_PATH_ABOUT_NO_LIKING_BOMB ? TALK:ALICIA_BOMBING*STOP_BOMB / TALK:ALICIA_BOMBING*STOP_BOMB_NO_PRE_WARNING
TALKED -> ALICIA_BOMBING_EVIL*PISSED_OFF = MEMORY -> PSYCHOPATH ? TALK:ALICIA_BOMBING_EVIL*PISSED_OFF_NEXT / CHOICE_CONTINUE_OR_STOP_BOMBS
$ -> CHOICE_CONTINUE_OR_STOP_BOMBS = CHOICE -> OBJECT : (NO_I_CONTINUE)BOMB_NO_I_CONTINUE, (OK_I_STOP)BOMB_OK_I_STOP
TALKED -> ALICIA_BOMBING_EVIL*PISSED_OFF_NEXT = GOTO -> PLAYER_AVOIDER_TYPE:CUTSCENE, MOVE:56-21
GOAL -> 56-21 = TALK -> ALICIA_BOMBING_EVIL*PISSED_OFF_NEXT_NEXT
TALKED -> ALICIA_BOMBING*STOP_BOMB_NO_PRE_WARNING = GOTO -> CHOICE_CONTINUE_OR_STOP_BOMBS
TALKED -> ALICIA_BOMBING*STOP_BOMB = GOTO -> CHOICE_CONTINUE_OR_STOP_BOMBS
! -> BOMB_NO_I_CONTINUE = UNLOCKEDTOOLMAXLEVEL -> KEY:GREEN ? TALK:ALICIA_BOMBING*NO_I_CONTINUE / TALK:ALICIA_BOMBING*NO_I_CONTINUE_NO_KEY
TALKED -> ALICIA_BOMBING*NO_I_CONTINUE = GOTO -> PLAYER_AVOIDER_TYPE:CUTSCENE, SLOW:56-20
TALKED -> ALICIA_BOMBING*NO_I_CONTINUE_NO_KEY = GOTO -> PLAYER_AVOIDER_TYPE:CUTSCENE, SLOW:56-20
GOAL -> 56-20 = GOTO -> FACING_PLAYER:DOWN, SLOW:57-28
GOAL -> 57-28 = GOTO -> SLOW:42-34, PARSE_BOMBING_CONTINUE_GREEN_KEY
$ -> PARSE_BOMBING_CONTINUE_GREEN_KEY = UNLOCKEDTOOLMAXLEVEL -> KEY:GREEN ? TALK:ALICIA_BOMBING*NOT_THAT_BAD / TALK:ALICIA_BOMBING*I_HAD_NO_CHOICE
! -> BOMB_OK_I_STOP = GOTO -> MEMORY:ALICIA_BOMB_OK_I_STOP, DESACTIVE_COLLAPSE, PARSE_STOP_BOMB_AND_HAS_GREEN_KEY
$ -> DESACTIVE_COLLAPSE = DISABLE -> 58-17:1
$ -> PARSE_STOP_BOMB_AND_HAS_GREEN_KEY = UNLOCKEDTOOL -> KEY:GREEN ? TALK:ALICIA_BOMBING*I_STOP_BOMB_HAVING_KEY / PARSE_STOP_BOMB_AND_CAN_TAKE_GREEN_KEY
$ -> PARSE_STOP_BOMB_AND_CAN_TAKE_GREEN_KEY = UNLOCKEDTOOLMAXLEVEL -> KEY:GREEN ? TALK:ALICIA_BOMBING*I_STOP_BOMB_CAN_TAKE_KEY / TALK:ALICIA_BOMBING*I_STOP_BOMB_CANNOT_TAKE_KEY
TALKED -> ALICIA_BOMBING*I_STOP_BOMB_HAVING_KEY = GOTO -> FOLLOW_PLAYER, CUTSCENE:STOP
TALKED -> ALICIA_BOMBING*I_STOP_BOMB_CAN_TAKE_KEY = GOTO -> MOVE:59-20, CUTSCENE:STOP_WITH_DELAY
TALKED -> ALICIA_BOMBING*I_STOP_BOMB_CANNOT_TAKE_KEY = GOTO -> ALICIA_TAKE_GREEN_KEY, PICKUP_KEY, FOLLOW_PLAYER, CUTSCENE:STOP_WITH_DELAY
GOAL -> 59-20 = GOTO -> FACING:LEFT, FOLLOW_PLAYER
$ -> PICKUP_KEY = PICKUP -> 59-19:1

TALKED -> BOMBING*BOMBING_OWN_DESK_ERIC_RAN = UNLOCKEDTOOL -> KEY:GREEN ? NULL / CREATE_SOFT_LOCK_PREVENTER, CREATE_SOFT_LOCK_PREVENTER, AFFECTING:OBJ-36*INIT_SOFT_LOCK_PREVENTER_VAR
$ -> CREATE_BLOCKED_ERIC_DESK_CONDITIONNAL = MEMORY -> THIRD_EXPLOSION_ALICIA_NO_WITNESS ? CREATE_GREEN_RUBBLE_AT_ERIC_DESK, SOFT_LOCK_CHECKER / NULL
$ -> CREATE_GREEN_RUBBLE_AT_ERIC_DESK = CREATE -> 56-22-BACK:2-235-2
$ -> SOFT_LOCK_CHECKER = UNLOCKEDTOOL -> KEY:GREEN ? NULL / CREATE_SOFT_LOCK_PREVENTER, AFFECTING:OBJ-36*INIT_SOFT_LOCK_PREVENTER
$ -> CREATE_SOFT_LOCK_PREVENTER = CREATE -> 57-27-BACK:36-255-255
! -> PREVENT_BOMB_PATH_SOFTLOCK_CUTSCENE_WITH_ALICIA = GOTO -> WAITFOR_NULL, MOVE:STOP, TP:57-28, SLOW:57-24
TALKED -> ALICIA_BOMBING*ALICIA_GREEN_KEY_SOFTLOCK = GOTO -> ALICIA_TAKE_GREEN_KEY, GIVEN_GREEN_KEY, FOLLOW_PLAYER, CUTSCENE:STOP_WITH_DELAY
$ -> GIVEN_GREEN_KEY = GOTO -> CREATE_GREEN_KEY_VAR, PICKUP_KEY_VAR
$ -> CREATE_GREEN_KEY_VAR = CREATE -> 57-24-BACK:1-2-255
$ -> PICKUP_KEY_VAR = PICKUP -> 57-24:1


//// GREEN KEY ////

$ -> ALICIA_TAKE_GREEN_KEY = GOTO -> CREATE_UP_GREEN_SAS_DOOR, CREATE_LEFT_GREEN_SAS_DOOR, CREATE_DOWN_GREEN_SAS_DOOR, MEMORY:ALICIA_HAS_GREEN_KEYS, AFFECTING:INIT_GREEN_SAS_DOORS
$ -> CREATE_UP_GREEN_SAS_DOOR = CREATE -> 47-36-BACK:31-255-255
$ -> CREATE_LEFT_GREEN_SAS_DOOR = CREATE -> 45-38-BACK:32-255-255
$ -> CREATE_DOWN_GREEN_SAS_DOOR = CREATE -> 26-36-BACK:33-255-255
! -> ASK_FOR_OPENING_GREEN_UP_SAS_DOOR = PLAYER_CLOSER_THAN -> 4 ? WAITFOR_NULL, MOVE:47-35, CREATE_BONUSTEXT_I_M_ON_IT / NULL
! -> ASK_FOR_OPENING_GREEN_LEFT_SAS_DOOR = PLAYER_CLOSER_THAN -> 4 ? WAITFOR_NULL, MOVE:46-38, CREATE_BONUSTEXT_I_M_ON_IT / NULL
! -> ASK_FOR_OPENING_GREEN_DOWN_SAS_DOOR = PLAYER_CLOSER_THAN -> 4 ? WAITFOR_NULL, MEMORY:ALICIA_ASKED_FOR_OPENING_GREEN_DOWN_SAS_DOOR, MOVE:26-35, CREATE_BONUSTEXT_I_M_ON_IT / NULL
$ -> CREATE_BONUSTEXT_I_M_ON_IT = CREATE_BONUSTEXT -> ONTHESPOT,NORMAL,I_M_ON_IT
GOAL -> 47-35 = GOTO -> FACING:DOWN, WAITFOR_OPENING_GREEN_UP_SAS_DOOR
GOAL -> 46-38 = GOTO -> FACING:LEFT, WAITFOR_OPENING_GREEN_LEFT_SAS_DOOR
$ -> ALICIA_ASKED_FOR_OPENING_GREEN_DOWN_SAS_DOOR = GOTO -> FACING:DOWN, WAITFOR_OPENING_GREEN_DOWN_SAS_DOOR
$ -> WAITFOR_OPENING_GREEN_UP_SAS_DOOR = WAITFOR -> TIMER:2 ? AFFECTING:OBJ-31*OPEN_DOOR, FOLLOW_PLAYER
$ -> WAITFOR_OPENING_GREEN_LEFT_SAS_DOOR = WAITFOR -> TIMER:2 ? AFFECTING:OBJ-32_VAR*OPEN_DOOR, FOLLOW_PLAYER
$ -> WAITFOR_OPENING_GREEN_DOWN_SAS_DOOR = WAITFOR -> TIMER:2 ? AFFECTING:OBJ-33*OPEN_DOOR, FOLLOW_PLAYER, TALK_SAS_FULLY_UNLOCKED_CONDITIONNAL


//// EXIT PEOPLE REACTION ////

TALKED -> JEAN_POST_BATHROOM*EXIT = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:JEAN_POST_BATHROOM*ALICIA_REACTION_JEAN_EXIT / NULL
TALKED -> JOSEPH*FORGOT = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:JOSEPH*ALICIA_REACTION_JOSEPH_FORGET / NULL
TALKED -> JOSEPH*FORGOT_COUCH = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:JOSEPH*ALICIA_REACTION_JOSEPH_FORGET / NULL
TALKED -> JEAN_PUSHED_SOMEONE*JEAN_SCOLDING = MEMORY -> ALICIA_FOLLOW_PLAYER ? WAITFOR_ALICIA_AWAKRD_AT_JEAN_SCOLING / NULL
$ -> WAITFOR_ALICIA_AWAKRD_AT_JEAN_SCOLING = WAITFOR -> PLAYER_FUTHER_THAN:3 ? CUTSCENE:START, SLOW:PLAYER, WAITFOR_TALK_ALICIA_JEAN_SCOLDING_REACTION
$ -> WAITFOR_TALK_ALICIA_JEAN_SCOLDING_REACTION = WAITFOR -> PLAYER_CLOSER_THAN:2 ? FACING:PLAYER, FACING_PLAYER:ALICIA, TALK:JEAN_PUSHED_SOMEONE*ALICIA_REACTION_JEAN_SCOLDING
TALKED -> JEAN_PUSHED_SOMEONE*ALICIA_REACTION_JEAN_SCOLDING = GOTO -> CUTSCENE:STOP, FOLLOW_PLAYER
TALKED -> MARIE*BOMB = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:MARIE*ALICIA_REACTION_BOMB / NULL
TALKED -> MARIE*ALICIA_REACTION_BOMB = GOTO -> MEMORY:ALICIA_IS_FINE_WITH_BOMBING_ENTRANCE, DISABLE_WALLS
$ -> DISABLE_WALLS = GOTO -> CREATE_RUBBLE_EXPLOSING_REFUSAL, PARSE_FIRST_WALL_EXPLODED
$ -> PARSE_FIRST_WALL_EXPLODED = MEMORY -> FIRST_WALL_EXPLODED ? PARSE_SECOND_WALL_EXPLODED / AFFECTING:OBJ-34*INIT_FIRST_WALL
$ -> PARSE_SECOND_WALL_EXPLODED = MEMORY -> SECOND_WALL_EXPLODED ? AFFECTING:OBJ-34*INIT_THIRD_WALL / AFFECTING:OBJ-34*INIT_SECOND_WALL
$ -> CREATE_RUBBLE_EXPLOSING_REFUSAL = CREATE -> 53-27-FRONT:34-255-255
TALKED -> MARIE*INTRUDER_SARAH_PISSED = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:MARIE*ALICIA_REACTION_INTRUDER_SARAH_PISSED / NULL

! -> ALICIA_DISCOVER_HER_DESK_ROOM = GOTO -> WAITFOR_NULL, MOVE:28-39
GOAL -> 28-39 = MOVE -> 29-39
GOAL -> 29-39 = WAITFOR -> TIMER:1 ? EXPRESSION:SUSPENSION, WAITFOR_TALK_ABOUT_HER_ROOM
$ -> WAITFOR_TALK_ABOUT_HER_ROOM = WAITFOR -> TIMER:2 ? TALK:REBECCA_EXIT*ALICIA_DISCOVER_HER_ROOM
TALKED -> REBECCA_EXIT*ALICIA_DISCOVER_HER_ROOM = GOTO -> FACING_PLAYER:DOWN, CHOICE_ALICIA_DISCOVER_HER_ROOM
$ -> CHOICE_ALICIA_DISCOVER_HER_ROOM = CHOICE -> OBJECT : (WE_WILL_HELP_YOU)CHOICE_ALICIA_ROOM_MESSED_WE_WILL_HELP_YOU, (INDEED)CHOICE_ALICIA_ROOM_MESSED_INDEED
! -> CHOICE_ALICIA_ROOM_MESSED_WE_WILL_HELP_YOU = TALK -> REBECCA_EXIT*ALICIA_DISCOVER_HER_ROOM_HELP
TALKED -> REBECCA_EXIT*ALICIA_DISCOVER_HER_ROOM_HELP = GOTO -> CAMERA:PLAYER_FLUID, CUTSCENE:STOP, FOLLOW_PLAYER
! -> CHOICE_ALICIA_ROOM_MESSED_INDEED = GOTO -> MEMORY:PREVENT_FREE_AND_BEFRIEND_ALICIA, CAMERA:PLAYER_FLUID, CUTSCENE:STOP, FOLLOW_PLAYER
TALKED -> SARAH_EXIT*SEARCH_ALICIA_DESK = MEMORY -> ALICIA_FOLLOW_PLAYER ? PARSE_ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK / NULL
TALKED -> SARAH_EXIT*SEARCH_ALICIA_DESK_NEXT = MEMORY -> ALICIA_FOLLOW_PLAYER ? PARSE_ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK / NULL
TALKED -> SARAH_EXIT*SEARCH_ALICIA_DESK_NEXT_NEXT = MEMORY -> ALICIA_FOLLOW_PLAYER ? PARSE_ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK / NULL
$ -> PARSE_ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK = MEMORY -> ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK ? NULL / TALK:SARAH_EXIT*ALICIA_REACTION_SARAH_SEARCH_ALICIA_DESK
TALKED -> SARAH_EXIT*ALICIA_REACTION_SARAH_SEARCH_ALICIA_DESK = MEMORY -> ALICIA_ALREADY_REACT_TO_SARAH_SEARCHING_DESK
TALKED -> OBJECT*ALICIA_ROOM_PLANT = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:OBJECT*ALICIA_REACTION_ALICIA_ROOM_PLANT / NULL
TALKED -> OBJECT*ALICIA_ROOM_ANYTHING = MEMORY -> ALICIA_FOLLOW_PLAYER ? FACING_PLAYER:ALICIA, TALK:OBJECT*ALICIA_REACTION_ALICIA_ROOM_ANYTHING / NULL
TALKED -> OBJECT*ALICIA_REACTION_TOILET_DOOR_SABOTAGE = MEMORY -> ALICIA_FOLLOW_PLAYER ? WAITFOR_NULL / NULL
TALKED -> OBJECT*ALICIA_REACTION_TOILET_DOOR_SABOTAGE_NEXT = MEMORY -> ALICIA_FOLLOW_PLAYER ? FOLLOW_PLAYER / NULL

TALKED -> MIKA_EXIT*MIKA_BOMB = MEMORY -> ALICIA_FOLLOW_PLAYER ? PARSE_ALICIA_IS_FINE_WITH_BOMBING_ENTRANCE / NULL
$ -> PARSE_ALICIA_IS_FINE_WITH_BOMBING_ENTRANCE = MEMORY -> ALICIA_IS_FINE_WITH_BOMBING_ENTRANCE ? NULL / PARSE_TALKED_ALICIA_BOMBING_OWN_DESK
$ -> PARSE_TALKED_ALICIA_BOMBING_OWN_DESK = MEMORY -> TALKED_ALICIA_BOMBING_OWN_DESK ? PARSE_ALICIA_BOMB_OK_I_STOP / TALK:MIKA_EXIT*ALICIA_REACTION_MIKA_BOMB
$ -> PARSE_ALICIA_BOMB_OK_I_STOP = MEMORY -> ALICIA_BOMB_OK_I_STOP ? TALK:MIKA_EXIT*ALICIA_REACTION_MIKA_BOMB_VAR / NULL
TALKED -> MIKA_EXIT*ALICIA_REACTION_MIKA_BOMB_VAR = GOTO -> PLAYER_AVOIDER_TYPE:AROUND, BAD_DEED:UNREASONABLE_DESTRUCTION, MEMORY:TALKED_ALICIA_REACTION_MIKA_BOMB_VAR
TALKED -> REBECCA_EXIT*EXIT_IS_OPENED = MEMORY -> TALKED_ALICIA_REACTION_MIKA_BOMB_VAR ? MEMORY:PREVENT_FREE_AND_BEFRIEND_ALICIA, TALK:MIKA_EXIT*ALICIA_REACTION_EXIT_IS_OPENED / NULL
TALKED -> MIKA_EXIT*ALICIA_REACTION_EXIT_IS_OPENED = GOTO -> AFFECTING:PLAYER_OPENED_EXIT

TALKED -> JOSEPH*OFFER_A_TEA_BAD = MEMORY -> ALICIA_FOLLOW_PLAYER ? TALK:JOSEPH_CRYING_ALICIA_REACTION*SPONTANEOUS / PARSE_ALICIA_FREED_FROM_SAS
$ -> PARSE_ALICIA_FREED_FROM_SAS = MEMORY -> ALICIA_FREED_FROM_SAS ? TALK:JOSEPH_CRYING_ALICIA_REACTION*SPONTANEOUS_VAR / AFFECTING:MARIE*JOSEPH_OFFER_A_TEA_BAD
TALKED -> JOSEPH_CRYING_ALICIA_REACTION*SPONTANEOUS = GOTO -> AFFECTING:MARIE*JOSEPH_CRYING_ALICIA_REACTION, TALK:JOSEPH_CRYING_ALICIA_REACTION*SPONTANEOUS_NEXT
TALKED -> JOSEPH_CRYING_ALICIA_REACTION*SPONTANEOUS_NEXT = GOTO -> COUCH_KILL_CUTSCENE
TALKED -> JOSEPH_CRYING_ALICIA_REACTION*SPONTANEOUS_VAR = GOTO -> CUTSCENE:START, UNSIT_CONDITIONNAL, WAITFOR_NULL, MOVE:10-32, AFFECTING:MARIE*JOSEPH_CRYING_ALICIA_REACTION
$ -> UNSIT_CONDITIONNAL = CONDITION -> SIT ? UNSIT_FROM_COUCH / NULL
$ -> COUCH_KILL_CUTSCENE = GOTO -> CUTSCENE:START, CAMERA:FIX, WAITFOR_PUSHING_PLAYER, CREATE_CUP_FALLING_ANIMATION_CONDITIONNAL, CONDITION:GOOD, PUSH:DOWN, MEMORY:ALICIA_WILL_KILL_REBECCA, MUSIC:NULL
$ -> WAITFOR_PUSHING_PLAYER = WAITFOR -> TIMER:2 ? FAST:10-32
GOAL -> 10-32 = MEMORY -> ALICIA_WILL_KILL_REBECCA ? KILL_REBECCA / TALK:JOSEPH_CRYING_ALICIA_REACTION*SPONTANEOUS_VAR_NEXT
TALKED -> JOSEPH_CRYING_ALICIA_REACTION*SPONTANEOUS_VAR_NEXT = TALK -> JOSEPH_CRYING_ALICIA_REACTION*SPONTANEOUS_NEXT
$ -> KILL_REBECCA  = GOTO -> SOUND:HIT_DEATH, AFFECTING:PLAYER*TP_PLAYER_OUT_OF_SIGHT, CREATE_PLAYER_PASS_OVER_COUCH, ACHIEVEMENT:THATWASANACCIDENT, WAITFOR_KILLED_PLAYER_REALISATION
$ -> CREATE_PLAYER_PASS_OVER_COUCH = CREATE_ANIMATION -> 10-28-FRONT:WORLD,2,4,REBECCA_PUSHED,2,FALSE
$ -> CREATE_CUP_FALLING_ANIMATION_CONDITIONNAL = CONDITION -> CUP ? CREATE_CUP_FALLING_ANIMATION / NULL
$ -> CREATE_CUP_FALLING_ANIMATION = CREATE_ANIMATION -> 10-32-BACK:WORLD,2,2,CUP_FALLING,4,FALSE
$ -> WAITFOR_KILLED_PLAYER_REALISATION = WAITFOR -> TIMER:5 ? TALK:JOSEPH_CRYING_ALICIA_REACTION*FATALITY
TALKED -> JOSEPH_CRYING_ALICIA_REACTION*FATALITY = DIFFICULTY -> HARD ? DEATH_END_HARD / DEATH_END_CLASSICAL
$ -> DEATH_END_CLASSICAL = END_LVL -> START_GAME, PROCESS
$ -> DEATH_END_HARD = END_LVL -> END_GAME, REBECCAS_ROOM_000, REBECCAS_ROOM_000

! -> PLAYER_USING_BATHROOM = MEMORY -> ALICIA_FOLLOW_PLAYER ? WAITFOR_NULL, MOVE:16-25 / NULL
GOAL -> 16-25 = FACING -> RIGHT
! -> PLAYER_NO_LONGER_USING_BATHROOM = MEMORY -> ALICIA_FOLLOW_PLAYER ? FOLLOW_PLAYER / NULL

! -> PUSHING_PLAYER_CUTSCENE = MEMORY -> ALICIA_FOLLOW_PLAYER ? WAITFOR_NULL, MOVE:STOP, FACING:LEFT, TP:24-54 / NULL
TALKED -> SARAH_ANGRY_SADISTIC*ALICIA_REACTION_SARAH_PUSH_REBECCA = GOTO -> EXPRESSION:SUSPENSION, WAITFOR_MOVE_OUT_OF_SARAH_DESK
$ -> WAITFOR_MOVE_OUT_OF_SARAH_DESK = WAITFOR -> TIMER:2 ? MOVE:26-53
GOAL -> 26-53 = GOTO -> FACING:DOWN, WAITFOR_FOLLOW_PLAYER
$ -> WAITFOR_FOLLOW_PLAYER = WAITFOR -> TIMER:2 ? FOLLOW_PLAYER