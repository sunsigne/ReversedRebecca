! -> CANDLE_INIT = GOTO -> NAME:CANDLE_OFF, TA_CYCLE


//// CYCLE CANDLE ////

$ -> TA_CYCLE = NAME -> CANDLE_OFF ? TA_RAW_TURN_ON / TA_RAW_TURN_OFF 
$ -> WATCH_CANDLE = GOTO -> MEMORY:WATCHED_CANDLE, TALK:CANDLE
TALKED -> CANDLE = GOTO -> TA_CYCLE


//// LIGHT CANDLE ////

$ -> TA_RAW_TURN_ON = MEMORY -> WATCHED_CANDLE ? TA_TURN_ON / TA_TALK_TURN_ON
$ -> TA_TALK_TURN_ON = TRIPLE_ACTION -> WATCH:WATCH_CANDLE, CANDLE_LIGHT:LIGHT_CANDLE
$ -> TA_TURN_ON = TRIPLE_ACTION -> CANDLE_LIGHT:LIGHT_CANDLE
$ -> LIGHT_CANDLE = GOTO -> NAME:CANDLE_ON, TA_CYCLE, CREATE_FIRE, SOUND:LIGHTER
$ -> CREATE_FIRE = CREATE -> ONTHESPOT:252-0-255


//// EXTINGUISH CANDLE ////

$ -> TA_RAW_TURN_OFF = MEMORY -> WATCHED_CANDLE ? TA_TURN_OFF / TA_TALK_TURN_OFF
$ -> TA_TALK_TURN_OFF = TRIPLE_ACTION -> WATCH:WATCH_CANDLE, CANDLE_EXTINGUISH:EXTINGUISH_CANDLE
$ -> TA_TURN_OFF = TRIPLE_ACTION -> CANDLE_EXTINGUISH:EXTINGUISH_CANDLE
$ -> EXTINGUISH_CANDLE = GOTO -> NAME:CANDLE_OFF, TA_CYCLE, DELETE_FIRE
$ -> DELETE_FIRE = DELETE -> ONTHESPOT:1
