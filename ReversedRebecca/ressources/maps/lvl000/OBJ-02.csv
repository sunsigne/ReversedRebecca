! -> CANDLE_INIT = GOTO -> NAME:CANDLE_OFF, TA_CYCLE

$ -> TA_CYCLE = NAME -> CANDLE_OFF ? TA_RAW_TURN_ON / TA_RAW_TURN_OFF 
$ -> CANDLE = GOTO -> MEMORY:WATCHED_CANDLE, TALK:CANDLE
TALKED -> CANDLE = GOTO -> TA_CYCLE


//// LIGHT CANDLE ////

$ -> TA_RAW_TURN_ON = MEMORY -> WATCHED_CANDLE ? TA_TURN_ON / TA_TALK_TURN_ON
$ -> TA_TALK_TURN_ON = TRIPLE_ACTION -> WATCH:CANDLE, LIGHT_CANDLE:LIGHT_CANDLE
$ -> TA_TURN_ON = TRIPLE_ACTION -> LIGHT_CANDLE:LIGHT_CANDLE
$ -> LIGHT_CANDLE = GOTO -> NAME:CANDLE_ON, TA_CYCLE, CREATE_FIRE, SOUND:LIGHTER
$ -> CREATE_FIRE = CREATE -> 5-7:251-0-255


//// EXTINGUISH CANDLE ////

$ -> TA_RAW_TURN_OFF = MEMORY -> WATCHED_CANDLE ? TA_TURN_OFF / TA_TALK_TURN_OFF
$ -> TA_TALK_TURN_OFF = TRIPLE_ACTION -> WATCH:CANDLE, EXTINGUISH_CANDLE:EXTINGUISH_CANDLE
$ -> TA_TURN_OFF = TRIPLE_ACTION -> EXTINGUISH_CANDLE:EXTINGUISH_CANDLE
$ -> EXTINGUISH_CANDLE = GOTO -> NAME:CANDLE_OFF, TA_CYCLE, DELETE_FIRE
$ -> DELETE_FIRE = DELETE -> 5-7:1
