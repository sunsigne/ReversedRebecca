TIME -> 0 = GOTO -> TA_FILL

! -> BATH_NULL_TA = TRIPLE_ACTION -> NULL

//// FILL BATH ////

$ -> TA_FILL = TRIPLE_ACTION -> FILL:FILL_BATH
$ -> FILL_BATH = GOTO -> AFFECTING:BATH_NULL_TA, CREATE_FILLING_BATH, SOUND:BATH_FILL, WAITING_BEFORE_FILLED
$ -> CREATE_FILLING_BATH = CREATE -> 1-7:250-0-255
$ -> WAITING_BEFORE_FILLED = WAITFOR -> TIMER:3 ? TA_SHOWER


//// EMPTY SHOWERLESS ////

$ -> TA_EMPTY_SHOWERLESS = TRIPLE_ACTION -> TAKE_SHOWER:TAKE_SHOWER, EMPTY:EMPTY_BATH_SHOWERLESS
$ -> EMPTY_BATH_SHOWERLESS = GOTO -> EMPTY_BATH, NOTIFY_INCONSISTENCY, MEMORY:EMPTY_SHOWERLESS
$ -> NOTIFY_INCONSISTENCY = GOTO -> CUTSCENE:START, AFFECTING:PLAYER_SUSPENSION, AFFECTING:PLAYER_FACING_LEFT, WAITING_BEFORE_SHOWERLESS_EMPTIED
$ -> WAITING_BEFORE_SHOWERLESS_EMPTIED = WAITFOR -> TIMER:4 ? DELETE_EMPTYING_BATH, WAITING_BEFORE_INTERROGATION
$ -> WAITING_BEFORE_INTERROGATION = WAITFOR -> TIMER:2 ? TALK:EMPTY_SHOWERLESS
TALKED -> EMPTY_SHOWERLESS = GOTO -> CUTSCENE:STOP, TA_FILL


//// TAKE SHOWER ////

$ -> TA_SHOWER = MEMORY -> EMPTY_SHOWERLESS ? TA_TAKE_SHOWER / TA_EMPTY_SHOWERLESS
$ -> TA_TAKE_SHOWER = TRIPLE_ACTION -> TAKE_SHOWER:TAKE_SHOWER
$ -> TAKE_SHOWER = GOTO -> BLOCKING_PATH:FALSE, AFFECTING:ENTER_BATH, SOUND:BATH_TAKING, WAITING_BEFORE_CLEAN
$ -> WAITING_BEFORE_CLEAN = WAITFOR -> TIMER:3 ? CREATION_OF_BATH_LEAVER
$ -> CREATION_OF_BATH_LEAVER = GOTO -> CREATE_BATH_LEAVER, AFFECTING:BATH_LEAVER_INIT
$ -> CREATE_BATH_LEAVER = CREATE -> 0-7:6-255-255
! -> LEAVING_BATH = GOTO -> EMPTY:2-EMPTY_BATH


//// EMPTY BATH ////

$ -> EMPTY_BATH = GOTO -> AFFECTING:BATH_FREEZE_TA, CREATE_EMPTYING_BATH, SOUND:BATH_EMPTY, WAITING_BEFORE_EMPTIED, DELETE_FILLING_BATH
$ -> CREATE_EMPTYING_BATH = CREATE -> 1-7:250-0-254
$ -> WAITING_BEFORE_EMPTIED = WAITFOR -> TIMER:4 ? AFFECTING:BATH_NULL_TA, DELETE_EMPTYING_BATH, HAIR_CREATION
$ -> DELETE_FILLING_BATH = DELETE -> 1-7:2
$ -> DELETE_EMPTYING_BATH = DELETE -> 1-7:1


//// CLEAN HAIR ////

$ -> HAIR_CREATION = GOTO -> CREATE_HAIR, TA_CLEAN_HAIR
$ -> CREATE_HAIR = CREATE -> 1-7:250-0-253
$ -> TA_CLEAN_HAIR = TRIPLE_ACTION -> CLEAN_HAIR:CLEAN_HAIR
$ -> CLEAN_HAIR = GOTO -> AFFECTING:BATH_NULL_TA, SOUND:CLOTHES, DELETE_HAIR
$ -> DELETE_HAIR = DELETE -> 1-7:1