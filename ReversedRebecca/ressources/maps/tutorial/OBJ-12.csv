! -> INIT_SINK = GOTO -> HITBOX_INIT, TA_INIT, CREATE_SINK, HIGHLIGHT_INIT
! -> SIMULATION_CREATE_NONE = GOTO -> BLOCKING_PATH:FALSE, DEEP_DELETE
$ -> DEEP_DELETE = WAITFOR -> TIMER:1 ? DELETE_SINK, DELETE_MYSELF:PROCESS


//// STATE ////

$ -> HITBOX_INIT = HITBOX -> 0, 0, 16, 11
$ -> TA_INIT = GOTO -> TA_TAKE_WATER
$ -> HIGHLIGHT_INIT = HIGHLIGHT -> 0, -1, 1, 2
$ -> CREATE_SINK = CREATE_DECORATION -> 4-0-BACK:WORLD,1,2,SINK_00
$ -> DELETE_SINK = DELETE -> 4-0:WORLD,1


//// TAKE WATER //// 

! -> HAS_NO_WATER = GOTO -> TA_TAKE_WATER
$ -> TA_TAKE_WATER = TRIPLE_ACTION -> CUSTOM(WATER_TAKE)TAKE_WATER
$ -> TAKE_WATER = GOTO -> CONDITION_PLAYER:GLASS, SOUND:WATER_TAKE, SPAM_AFFECTING:HAS_WATER, TA_EMPTY_WATER


//// EMPTY WATER //// 

! -> HAS_WATER = GOTO -> TA_EMPTY_WATER
$ -> TA_EMPTY_WATER = TRIPLE_ACTION -> CUSTOM(WATER_EMPTY)EMPTY_WATER
$ -> EMPTY_WATER = GOTO -> CONDITION_PLAYER:GOOD, SOUND:WATER_EMPTY, SPAM_AFFECTING:HAS_NO_WATER, TA_TAKE_WATER