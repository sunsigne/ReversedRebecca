! -> CHAIR_INIT = GOTO -> HITBOX_INIT, TA_INIT, CREATE_CHAIR, HIGHLIGHT_INIT, HIGHLIGHT_ABOVE_PLAYER:FALSE
! -> DELETE_USELESS = GOTO -> BLOCKING_PATH:FALSE, DEEP_DELETE
$ -> DEEP_DELETE = WAITFOR -> TIMER:1 ? DELETE_CHAIR, DELETE_MYSELF:PROCESS


//// STATE ////

$ -> HITBOX_INIT = HITBOX -> 4, -6, 8, 13
$ -> TA_INIT = TRIPLE_ACTION -> CUSTOM(SIT)SIT
$ -> CREATE_CHAIR = CREATE_DECORATION -> 6-7-BACK:WORLD,1,2,CHAIR_DOWN_12
! -> CREATE_CHAIR = GOTO -> CREATE_CHAIR
$ -> HIGHLIGHT_INIT = HIGHLIGHT -> 0, -1, 1, 2
! -> CHAIR_REFRESH = GOTO -> TA_INIT, BLOCKING_PATH:TRUE
$ -> DELETE_CHAIR = DELETE -> 6-7:WORLD,1


//// SIT ////

$ -> SIT = GOTO -> BLOCKING_PATH:FALSE, PLAYER_SITTING, CREATE_CHAIR_LEAVER_HANDLER
$ -> PLAYER_SITTING = STATE_PLAYER -> 6-8,0,-4,DOWN,SIT, SOUND:JUMP
$ -> CREATE_CHAIR_LEAVER_HANDLER = GOTO -> CREATE_CHAIR_LEAVER, AFFECTING:OBJ-04*CHAIR_LEAVER_INIT
$ -> CREATE_CHAIR_LEAVER = CREATE -> 6-9-BACK:4-255-255