TIME -> 0 = GOTO -> NAME:PEEBOY, MOVE:33-36, TA_INIT


//// UP DOWN ////

GOAL -> 33-36 = MEMORY -> TOO_LATE ? CONTINUE_PEEING / MOVE:33-34
GOAL -> 33-34 = FACING -> UP ? GO_BEFORE_DOOR / UP_DOWN
$ -> GO_BEFORE_DOOR = GOTO -> MOVE:33-33, PLAYER_AVOIDER_TYPE:AROUND
GOAL -> 33-33 = MOVE -> 33-34
$ -> UP_DOWN = GOTO -> MOVE:33-36, PLAYER_AVOIDER_TYPE:STOP

$ -> TA_INIT = TRIPLE_ACTION -> TALK:PEEBOY_INIT
TALKED -> PEEBOY_INIT = TRIPLE_ACTION -> TALK:PEEBOY_STOP_MOVING
TALKED -> PEEBOY_STOP_MOVING = GOTO -> MOVE:33-35, PLAYER_AVOIDER_TYPE:AROUND


//// STOP MOVING //// 

GOAL -> 33-35 = GOTO -> FACING:RIGHT, PEEBOY_URGE
$ -> PEEBOY_URGE = TRIPLE_ACTION -> TALK:PEEBOY_URGE
TALKED -> PEEBOY_URGE = TRIPLE_ACTION -> TALK:PEEBOY_HOLDING
TALKED -> PEEBOY_HOLDING = TRIPLE_ACTION -> TALK:PEEBOY_HOLDING_AGAIN
TALKED -> PEEBOY_HOLDING_AGAIN = TRIPLE_ACTION -> TALK:PEEBOY_HOLDING_AGAIN_AGAIN
TALKED -> PEEBOY_HOLDING_AGAIN_AGAIN = TRIPLE_ACTION -> TALK:PEEBOY_FIND_A_ROOM


//// PEEING ITSELF //// 

TALKED -> PEEBOY_FIND_A_ROOM = GOTO -> WAITING_BEFORE_CONFESSING, CUTSCENE:START, MEMORY:TOO_LATE
$ -> WAITING_BEFORE_CONFESSING = WAITFOR -> TIMER:1 ? IS_ASHAMED
$ -> IS_ASHAMED = GOTO -> AVOID_LOOKING, EXPRESSION:SUSPENSION, WAITING_BEFORE_CONFESSING_AGAIN
$ -> AVOID_LOOKING = FACING -> DOWN ? FACING:LEFT / FACING:DOWN
$ -> WAITING_BEFORE_CONFESSING_AGAIN = WAITFOR -> TIMER:2 ? TALK:PEEBOY_PEE_ITS_PANTS
TALKED -> PEEBOY_PEE_ITS_PANTS = FACING -> DOWN ? CREATE_HORIZONTAL_PEE_PUDDLES / CREATE_VERTICAL_PEE_PUDDLES

$ -> CREATE_HORIZONTAL_PEE_PUDDLES = GOTO -> CREATE_ONTHESPOT:253-0-255, SLOW:34-35
GOAL -> 34-35 = GOTO -> CREATE_ONTHESPOT:253-0-254, SLOW:35-35
GOAL -> 35-35 = GOTO -> CREATE_ONTHESPOT:253-0-253, SLOW:35-36
GOAL -> 35-36 = GOTO -> CREATE_ONTHESPOT:253-0-252, GOCRYROOM

$ -> CREATE_VERTICAL_PEE_PUDDLES = GOTO -> CREATE_ONTHESPOT:254-0-255, SLOW:33-36
$ -> CONTINUE_PEEING = GOTO -> CREATE_ONTHESPOT:254-0-254, SLOW:33-37
GOAL -> 33-37 = GOTO -> CREATE_ONTHESPOT:254-0-253, SLOW:34-37
GOAL -> 34-37 = GOTO -> GOCRYROOM

$ -> GOCRYROOM = GOTO -> SLOW:37-43, CREATE_PEE_PUDDLE_OBJECT, CUTSCENE:STOP 
$ -> CREATE_PEE_PUDDLE_OBJECT = GOTO -> PEE_PUDDLE_OBJECT_CREATION, AFFECTING:PEEPUDDLE_INIT
$ -> PEE_PUDDLE_OBJECT_CREATION = CREATE -> 33-35:50-255-255

//// CRY ROOM //// 

GOAL -> 37-43 = SEE -> PLAYER ? TALK:PEEBOY_YOU_HERE / GOCRYING
$ -> WAITING_TO_CLOSE = WAITFOR -> PLAYER_FUTHER_THAN:6 ? SLOW:37-43

TALKED -> PEEBOY_YOU_HERE = FACING -> UP ? SLOW:38-44 / SLOW:37-42
GOAL -> 37-42 = GOTO -> FACING:DOWN, WAITING_TO_CLOSE, ARE_YOU_OK
GOAL -> 38-44 = GOTO -> FACING:UP, WAITING_TO_CLOSE, ARE_YOU_OK
$ -> ARE_YOU_OK = TRIPLE_ACTION -> TALK:PEEBOY_ARE_YOU_OK
TALKED -> PEEBOY_ARE_YOU_OK = TRIPLE_ACTION -> TALK:PEEBOY_CLOTHES
TALKED -> PEEBOY_CLOTHES = TRIPLE_ACTION -> TALK:PEEBOY_LEAVE_ME_ALONE
TALKED -> PEEBOY_LEAVE_ME_ALONE = TRIPLE_ACTION -> TALK:PEEBOY_THINK

$ -> GOCRYING = GOTO -> REPLACE_PURPLE_DOOR, SLOW:40-44
$ -> REPLACE_PURPLE_DOOR = REPLACE -> 36-43:1-255-6
GOAL -> 40-44 = FACING -> RIGHT


//// LEFT RIGHT ////

WONPUZZLE -> 34-31 = MEMORY -> TOO_LATE ? NULL / FIRST_PUSHING_CUTSCENE
$ -> FIRST_PUSHING_CUTSCENE = GOTO -> CUTSCENE:START, MOVE:STOP, WAIT_FOR_REALISATION
$ -> WAIT_FOR_REALISATION = WAITFOR -> TIMER:1 ? RUSH_RESTROOM
$ -> RUSH_RESTROOM = GOTO -> FAST:33-32, FACING:UP, EXPRESSION:EXCLAMATION, PLAYER_AVOIDER_TYPE:PUSH_RIGHT

GOAL -> 33-32 = FAST -> 34-25
GOAL -> 34-25 = GOTO -> FAST:31-19, CUTSCENE:STOP, PLAYER_AVOIDER_TYPE:STOP

GOAL -> 31-19 = MOVE -> 27-19
GOAL -> 27-19 = MOVE -> 31-19


//// STRAIGHT BATHROOM ////

WONPUZZLE -> 34-18 = MOVE -> 40-8
GOAL -> 40-8 = FACING -> LEFT